<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Release Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <link href="/media/css/fontawesome.css?59ea4c82" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?59ea4c82">

  <script src="/media/js/theme.js?59ea4c82"></script>

  

  <base href="/docs/13/" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <input type="checkbox" id="navbar-toggler" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <label for="navbar-toggler" id="navbar-toggler-label" class="navbar-toggler" tabindex="0"><span class="navbar-toggler-icon"></span></label>
            <div class="navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">November 13, 2025: <a href="/about/news/postgresql-181-177-1611-1515-1420-and-1323-released-3171/">
  PostgreSQL 18.1, 17.7, 16.11, 15.15, 14.20, and 13.23 Released!
</a>
</div>
      </div>
    </div>
    
<div class="container-fluid margin">
  <div class="row">
    <div class="col-lg-2">
      <div id="pgSideWrap">
       
       <div id="pgSideNav">
         <h2>Quick Links</h2>

         <ul>
           
           
           <li><a href="/docs/">Documentation</a>
            
            
           
           </li>
           <li><a href="/docs/">Manuals</a>
            
             <ul>
             
              <li class="last-child"><a href="/docs/manuals/archive/">Archive</a></li>
             
             </ul>
            
            
           
           </li>
           <li><a href="/docs/release/">Release Notes</a>
            
            
           
           </li>
           <li><a href="/docs/books/">Books</a>
            
            
           
           </li>
           <li><a href="/docs/online-resources/">Tutorials &amp; Other Resources</a>
            
            
           
           </li>
           <li><a href="/docs/faq/">FAQ</a>
            
            
           
           </li>
           <li class="last-child"><a href="https://wiki.postgresql.org">Wiki</a>
            
            
           </li>
            
           
        </ul>

       </div>
       
      </div> <!-- pgSideWrap -->
    </div>
    <div class="col-lg-10">
      <div id="pgContentWrap">
        


<div id="release-notes" class="row">
    <div class="col-md-10">
      <section>
        <h1>Release Notes <i class="far fa-file-alt"></i></h1>
        <h2>
          PostgreSQL
          13.22
        </h2>
      </section>
      <div id="docContent">
        <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">E.2.&nbsp;Release 13.22</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="release-13-23.html" title="E.1.&nbsp;Release 13.23">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
      <th width="60%" align="center">Appendix&nbsp;E.&nbsp;Release Notes</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.23 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="release-13-21.html" title="E.3.&nbsp;Release 13.21">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="RELEASE-13-22">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">E.2.&nbsp;Release 13.22</h2>
      </div>
    </div>
  </div>
  <div class="toc">
    <dl class="toc">
      <dt><span class="sect2"><a href="release-13-22.html#id-1.11.6.7.5">E.2.1. Migration to Version 13.22</a></span></dt>
      <dt><span class="sect2"><a href="release-13-22.html#id-1.11.6.7.6">E.2.2. Changes</a></span></dt>
    </dl>
  </div>
  <p><strong>Release date:&nbsp;</strong>2025-08-14</p>
  <p>This release contains a variety of fixes from 13.21. For information about new features in major release 13, see <a class="xref" href="release-13.html" title="E.24.&nbsp;Release 13">Section&nbsp;E.24</a>.</p>
  <p>The <span class="productname">PostgreSQL</span> community will stop releasing updates for the 13.X release series in November 2025. Users are encouraged to update to a newer release branch soon.</p>
  <div class="sect2" id="id-1.11.6.7.5">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">E.2.1.&nbsp;Migration to Version 13.22</h3>
        </div>
      </div>
    </div>
    <p>A dump/restore is not required for those running 13.X.</p>
    <p>However, if you are upgrading from a version earlier than 13.21, see <a class="xref" href="release-13-21.html" title="E.3.&nbsp;Release 13.21">Section&nbsp;E.3</a>.</p>
  </div>
  <div class="sect2" id="id-1.11.6.7.6">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">E.2.2.&nbsp;Changes</h3>
        </div>
      </div>
    </div>
    <div class="itemizedlist">
      <ul class="itemizedlist" style="list-style-type: disc;">
        <li class="listitem">
          <p>Tighten security checks in planner estimation functions (Dean Rasheed) <a class="ulink" href="https://postgr.es/c/533211ded" target="_top">§</a></p>
          <p>The fix for CVE-2017-7484, plus followup fixes, intended to prevent leaky functions from being applied to statistics data for columns that the calling user does not have permission to read. Two gaps in that protection have been found. One gap applies to partitioning and inheritance hierarchies where RLS policies on the tables should restrict access to statistics data, but did not.</p>
          <p>The other gap applies to cases where the query accesses a table via a view, and the view owner has permissions to read the underlying table but the calling user does not have permissions on the view. The view owner's permissions satisfied the security checks, and the leaky function would get applied to the underlying table's statistics before we check the calling user's permissions on the view. This has been fixed by making security checks on views occur at the start of planning. That might cause permissions failures to occur earlier than before.</p>
          <p>The <span class="productname">PostgreSQL</span> Project thanks Dean Rasheed for reporting this problem. (CVE-2025-8713)</p>
        </li>
        <li class="listitem">
          <p>Prevent <span class="application">pg_dump</span> scripts from being used to attack the user running the restore (Nathan Bossart) <a class="ulink" href="https://postgr.es/c/c204bd39f" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/27d3dee68" target="_top">§</a></p>
          <p>Since dump/restore operations typically involve running SQL commands as superuser, the target database installation must trust the source server. However, it does not follow that the operating system user who executes <span class="application">psql</span> to perform the restore should have to trust the source server. The risk here is that an attacker who has gained superuser-level control over the source server might be able to cause it to emit text that would be interpreted as <span class="application">psql</span> meta-commands. That would provide shell-level access to the restoring user's own account, independently of access to the target database.</p>
          <p>To provide a positive guarantee that this can't happen, extend <span class="application">psql</span> with a <code class="command">\restrict</code> command that prevents execution of further meta-commands, and teach <span class="application">pg_dump</span> to issue that before any data coming from the source server.</p>
          <p>The PostgreSQL Project thanks Martin Rakhmanov, Matthieu Denais, and RyotaK for reporting this problem. (CVE-2025-8714)</p>
        </li>
        <li class="listitem">
          <p>Convert newlines to spaces in names included in comments in <span class="application">pg_dump</span> output (Noah Misch) <a class="ulink" href="https://postgr.es/c/2179e6005" target="_top">§</a></p>
          <p>Object names containing newlines offered the ability to inject arbitrary SQL commands into the output script. (Without the preceding fix, injection of <span class="application">psql</span> meta-commands would also be possible this way.) CVE-2012-0868 fixed this class of problem at the time, but later work reintroduced several cases.</p>
          <p>The <span class="productname">PostgreSQL</span> Project thanks Noah Misch for reporting this problem. (CVE-2025-8715)</p>
        </li>
        <li class="listitem">
          <p>Avoid regression in the size of XML input that we will accept (Michael Paquier, Erik Wienhold) <a class="ulink" href="https://postgr.es/c/589d6e640" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/0ae824704" target="_top">§</a></p>
          <p>Our workaround for a bug in early 2.13.x releases of <span class="application">libxml2</span> made use of a code path that rejects text chunks exceeding 10MB, whereas the previous coding did not. Those early releases are presumably extinct in the wild by now, so revert to the previous coding.</p>
        </li>
        <li class="listitem">
          <p>Allow tables with statement-level triggers to become partitions or inheritance children (Etsuro Fujita) <a class="ulink" href="https://postgr.es/c/afdb4cde1" target="_top">§</a></p>
          <p>We do not allow partitions or inheritance child tables to have row-level triggers with transition tables, because an operation on the whole inheritance tree would need to maintain a separate transition table for each such child table. But that problem does not apply for statement-level triggers, because only the parent's statement-level triggers will be fired. The code that checks whether an existing table can become a partition or inheritance child nonetheless rejected both kinds of trigger.</p>
        </li>
        <li class="listitem">
          <p>Disallow collecting transition tuples from child foreign tables (Etsuro Fujita) <a class="ulink" href="https://postgr.es/c/b6641f7b0" target="_top">§</a></p>
          <p>We do not support triggers with transition tables on foreign tables. However, the case of a partition or inheritance child that is a foreign table was overlooked. If the parent has such a trigger, incorrect transition tuples were collected from the foreign child. Instead throw an error, reporting that the case is not supported.</p>
        </li>
        <li class="listitem">
          <p>Shorten the race condition window for creating indexes with conflicting names (Tom Lane) <a class="ulink" href="https://postgr.es/c/4b66cb188" target="_top">§</a></p>
          <p>When choosing an auto-generated name for an index, avoid conflicting with not-yet-committed <code class="structname">pg_class</code> rows as well as fully-valid ones. This avoids possibly choosing the same name as some concurrent <code class="command">CREATE INDEX</code> did, when that command is still in process of filling its index, or is done but is part of a not-yet-committed transaction. There's still a window for trouble, but it's only as long as the time needed to validate a new index's parameters and insert its <code class="structname">pg_class</code> row.</p>
        </li>
        <li class="listitem">
          <p>Prevent usage of incorrect <code class="command">VACUUM</code> options in some cases where multiple tables are vacuumed in a single command (Nathan Bossart, Michael Paquier) <a class="ulink" href="https://postgr.es/c/65c3223f9" target="_top">§</a></p>
          <p>The <code class="literal">TRUNCATE</code> and <code class="literal">INDEX_CLEANUP</code> options of one table could be applied to others.</p>
        </li>
        <li class="listitem">
          <p>Fix processing of character classes within <code class="literal">SIMILAR TO</code> regular expressions (Laurenz Albe) <a class="ulink" href="https://postgr.es/c/9481d1614" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/31ee5ec69" target="_top">§</a></p>
          <p>The code that translates <code class="literal">SIMILAR TO</code> pattern matching expressions to POSIX-style regular expressions did not consider that square brackets can be nested. For example, in a pattern like <code class="literal">[[:alpha:]%_]</code>, the code treated the <code class="literal">%</code> and <code class="literal">_</code> characters as metacharacters when they should be literals.</p>
        </li>
        <li class="listitem">
          <p>When deparsing queries, always add parentheses around the expression in <code class="literal">FETCH FIRST <em class="replaceable"><code>expression</code></em> ROWS WITH TIES</code> clauses (Heikki Linnakangas) <a class="ulink" href="https://postgr.es/c/7ee00918f" target="_top">§</a></p>
          <p>This avoids some cases where the deparsed result wasn't syntactically valid.</p>
        </li>
        <li class="listitem">
          <p>Limit the checkpointer process's fsync request queue size (Alexander Korotkov, Xuneng Zhou) <a class="ulink" href="https://postgr.es/c/f32a47161" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/7f872ae70" target="_top">§</a></p>
          <p>With very large <code class="varname">shared_buffers</code> settings, it was possible for the checkpointer to attempt to allocate more than 1GB for fsync requests, leading to failure and an infinite loop. Clamp the queue size to prevent this scenario.</p>
        </li>
        <li class="listitem">
          <p>Avoid infinite wait in logical decoding when reading a partially-written WAL record (Vignesh C) <a class="ulink" href="https://postgr.es/c/762f352ca" target="_top">§</a></p>
          <p>If the server crashes after writing the first part of a WAL record that would span multiple pages, subsequent logical decoding of the WAL stream would wait for data to arrive on the next WAL page. That might never happen if the server is now idle.</p>
        </li>
        <li class="listitem">
          <p>Fix inconsistent quoting of role names in ACL strings (Tom Lane) <a class="ulink" href="https://postgr.es/c/093d3d745" target="_top">§</a></p>
          <p>The previous quoting rule was locale-sensitive, which could lead to portability problems when transferring <code class="type">aclitem</code> values across installations. (<span class="application">pg_dump</span> does not do that, but other tools might.) To ensure consistency, always quote non-ASCII characters in <code class="type">aclitem</code> output; but to preserve backward compatibility, never require that they be quoted during <code class="type">aclitem</code> input.</p>
        </li>
        <li class="listitem">
          <p>Reject equal signs (<code class="literal">=</code>) in the names of relation options and foreign-data options (Tom Lane) <a class="ulink" href="https://postgr.es/c/cd31eaaeb" target="_top">§</a></p>
          <p>There's no evident use-case for option names like this, and allowing them creates ambiguity in the stored representation.</p>
        </li>
        <li class="listitem">
          <p>Avoid a rare scenario where a btree index scan could mark the wrong index entries as dead (Peter Geoghegan) <a class="ulink" href="https://postgr.es/c/38c8d2987" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Avoid re-distributing cache invalidation messages from other transactions during logical replication (vignesh C) <a class="ulink" href="https://postgr.es/c/1230be12f" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/87819f766" target="_top">§</a></p>
          <p>Our previous round of minor releases included a bug fix to ensure that replication receiver processes would respond to cross-process cache invalidation messages, preventing them from using stale catalog data while performing replication updates. However, the fix unintentionally made them also redistribute those messages again, leading to an exponential increase in the number of invalidation messages, which would often end in a memory allocation failure. Fix by not redistributing received messages.</p>
        </li>
        <li class="listitem">
          <p>Avoid premature removal of old WAL during checkpoints (Vitaly Davydov) <a class="ulink" href="https://postgr.es/c/dd3df0b85" target="_top">§</a></p>
          <p>If a replication slot's restart point is advanced while a checkpoint is in progress, no-longer-needed WAL segments could get removed too soon, leading to recovery failure if the database crashes immediately afterwards. Fix by keeping them for one additional checkpoint cycle.</p>
        </li>
        <li class="listitem">
          <p>Never move a replication slot's confirmed-flush position backwards (Shveta Malik) <a class="ulink" href="https://postgr.es/c/e323d9df0" target="_top">§</a></p>
          <p>In some cases a replication client could acknowledge an LSN that's past what it has stored persistently, and then perhaps send an older LSN after a restart. We consider this not-a-bug so long as the client did not have anything it needed to do for the WAL between the two points. However, we should not re-send that WAL for fear of data duplication, so make sure we always believe the latest confirmed LSN for a given slot.</p>
        </li>
        <li class="listitem">
          <p>Allow waiting for a transaction on a standby server to be interrupted (Kevin K Biju) <a class="ulink" href="https://postgr.es/c/706344f06" target="_top">§</a></p>
          <p>Creation of a replication slot on a standby server may require waiting for some active transaction(s) to finish on the primary and then be replayed on the standby. Since that could be an indefinite wait, it's desirable to allow the operation to be cancelled, but there was no check for query cancel in the loop.</p>
        </li>
        <li class="listitem">
          <p>Fix some places that might try to fetch toasted fields of system catalogs without any snapshot (Nathan Bossart) <a class="ulink" href="https://postgr.es/c/b7ba2c030" target="_top">§</a></p>
          <p>This could result in an assertion failure or <span class="quote">“<span class="quote">cannot fetch toast data without an active snapshot</span>”</span> error.</p>
        </li>
        <li class="listitem">
          <p>Avoid assertion failure during cross-table constraint updates (Tom Lane, Jian He) <a class="ulink" href="https://postgr.es/c/13f1e9f26" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/f9ba071cc" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Remove faulty assertion that a command tag must have been determined by the end of <code class="function">PortalRunMulti()</code> (Álvaro Herrera) <a class="ulink" href="https://postgr.es/c/43cd85962" target="_top">§</a></p>
          <p>This failed in edge cases such as an empty prepared statement.</p>
        </li>
        <li class="listitem">
          <p>Restore the ability to run PL/pgSQL expressions in parallel (Dipesh Dhameliya) <a class="ulink" href="https://postgr.es/c/ae693c0bf" target="_top">§</a></p>
          <p>PL/pgSQL's notion of an <span class="quote">“<span class="quote">expression</span>”</span> is very broad, encompassing any SQL <code class="command">SELECT</code> query that returns a single column and no more than one row. So there are cases, for example evaluation of an aggregate function, where the query involves significant work and it'd be useful to run it with parallel workers. This used to be possible, but a previous bug fix unintentionally disabled it.</p>
        </li>
        <li class="listitem">
          <p>Fix edge-case resource leaks in PL/Python error reporting (Tom Lane) <a class="ulink" href="https://postgr.es/c/1c78d5553" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/93aca1246" target="_top">§</a></p>
          <p>An out-of-memory failure while reporting an error from Python could result in failure to drop reference counts on Python objects, leading to session-lifespan memory leakage.</p>
        </li>
        <li class="listitem">
          <p>Fix <span class="application">libpq</span>'s <code class="function">PQport()</code> function to never return NULL unless the passed connection is NULL (Daniele Varrazzo) <a class="ulink" href="https://postgr.es/c/9dcd1aa81" target="_top">§</a></p>
          <p>This is the documented behavior, but recent <span class="application">libpq</span> versions would return NULL in some cases where the user had not provided a port specification. Revert to our historical behavior of returning an empty string in such cases. (v18 and later will return the compiled-in default port number, typically <code class="literal">"5432"</code>, instead.)</p>
        </li>
        <li class="listitem">
          <p>Avoid failure when GSSAPI authentication requires packets larger than 16kB (Jacob Champion, Tom Lane) <a class="ulink" href="https://postgr.es/c/c81cdffa1" target="_top">§</a></p>
          <p>Larger authentication packets are needed for Active Directory users who belong to many AD groups. This limitation manifested in connection failures with unintelligible error messages, typically <span class="quote">“<span class="quote">GSSAPI context establishment error: The routine must be called again to complete its function: Unknown error</span>”</span>.</p>
        </li>
        <li class="listitem">
          <p>Fix timing-dependent failures in SSL and GSSAPI data transmission (Tom Lane) <a class="ulink" href="https://postgr.es/c/f09fea386" target="_top">§</a></p>
          <p>When using SSL or GSSAPI encryption in non-blocking mode, <span class="application">libpq</span> sometimes failed with <span class="quote">“<span class="quote">SSL error: bad length</span>”</span> or <span class="quote">“<span class="quote">GSSAPI caller failed to retransmit all data needing to be retried</span>”</span>.</p>
        </li>
        <li class="listitem">
          <p>Avoid null-pointer dereference during connection lookup in <span class="application">ecpg</span> applications (Aleksander Alekseev) <a class="ulink" href="https://postgr.es/c/c934d5673" target="_top">§</a></p>
          <p>The case could occur only if the application has some connections that are named and some that are not.</p>
        </li>
        <li class="listitem">
          <p>Ensure that <span class="application">pg_dump</span> dumps comments on domain constraints in a valid order (Jian He) <a class="ulink" href="https://postgr.es/c/57949cea5" target="_top">§</a></p>
          <p>In some cases the comment command could appear before creation of the constraint.</p>
        </li>
        <li class="listitem">
          <p>Ensure stable sort ordering in <span class="application">pg_dump</span> for all types of database objects (Noah Misch, Andreas Karlsson) <a class="ulink" href="https://postgr.es/c/04bc2c42f" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/cc9a62c51" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/bc05590c7" target="_top">§</a></p>
          <p><span class="application">pg_dump</span> sorts objects by their logical names before performing dependency-driven reordering. This sort did not account for the full unique key identifying certain object types such as rules and constraints, and thus it could produce dissimilar sort orders for logically-identical databases. That made it difficult to compare databases by diff'ing <span class="application">pg_dump</span> output, so improve the logic to ensure stable sort ordering in all cases.</p>
        </li>
        <li class="listitem">
          <p>In <span class="application">pg_upgrade</span>, check for inconsistent inherited not-null constraints (Ali Akbar) <a class="ulink" href="https://postgr.es/c/b0f0e2221" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/708469281" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/160131033" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/7406a7d82" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/de7fd83cd" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/095e83d09" target="_top">§</a></p>
          <p><span class="productname">PostgreSQL</span> versions before 18 allow an inherited column not-null constraint to be dropped. However, this results in a schema that cannot be restored, leading to failure in <span class="application">pg_upgrade</span>. Detect such cases during <span class="application">pg_upgrade</span>'s preflight checks to allow users to fix them before initiating the upgrade.</p>
        </li>
        <li class="listitem">
          <p>Avoid assertion failure if <code class="varname">track_commit_timestamp</code> is enabled during <span class="application">initdb</span> (Hayato Kuroda, Andy Fan) <a class="ulink" href="https://postgr.es/c/8bca4476f" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Avoid possible leak of the open connection during <code class="filename">contrib/dblink</code> connection establishment (Tom Lane) <a class="ulink" href="https://postgr.es/c/e7d3d4ed4" target="_top">§</a></p>
          <p>In the rare scenario where we hit out-of-memory while inserting the new connection object into dblink's hashtable, the open connection would be leaked until end of session, leaving an idle session sitting on the remote server.</p>
        </li>
        <li class="listitem">
          <p>Make <code class="filename">contrib/pg_prewarm</code> cope with very large <code class="varname">shared_buffers</code> settings (Daria Shanina) <a class="ulink" href="https://postgr.es/c/4adbaa36c" target="_top">§</a></p>
          <p>Autoprewarm failed with a memory allocation error if <code class="varname">shared_buffers</code> was larger than about 50 million buffers (400GB).</p>
        </li>
        <li class="listitem">
          <p>In <code class="filename">contrib/pg_stat_statements</code>, avoid leaving gaps in the set of parameter numbers used in a normalized query (Sami Imseih) <a class="ulink" href="https://postgr.es/c/3c03b8cd7" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Fix memory leakage in <code class="filename">contrib/postgres_fdw</code>'s DirectModify methods (Tom Lane) <a class="ulink" href="https://postgr.es/c/271cb7eaa" target="_top">§</a></p>
          <p>The <code class="structname">PGresult</code> holding the results of the remote modify command would be leaked for the rest of the session if the query fails between invocations of the DirectModify methods, which could happen when there's <code class="literal">RETURNING</code> data to process.</p>
        </li>
        <li class="listitem">
          <p>Ensure that directories listed in <span class="application">configure</span>'s <code class="option">--with-includes</code> and <code class="option">--with-libraries</code> options are searched before system-supplied directories (Tom Lane) <a class="ulink" href="https://postgr.es/c/c5bd803e5" target="_top">§</a></p>
          <p>A common reason for using these options is to allow a user-built version of some library to override the system-supplied version. However, that failed to work in some environments because of careless ordering of switches in the commands issued by the makefiles.</p>
        </li>
        <li class="listitem">
          <p>Fix <span class="application">configure</span>'s checks for <code class="function">__cpuid()</code> and <code class="function">__cpuidex()</code> (Lukas Fittl, Michael Paquier) <a class="ulink" href="https://postgr.es/c/612f5b806" target="_top">§</a></p>
          <p><span class="application">configure</span> failed to detect these Windows-specific functions, so that they would not be used, leading to slower-than-necessary CRC computations since the availability of hardware instructions could not be verified. The practical impact of this error was limited, because production builds for Windows typically do not use the Autoconf toolchain.</p>
        </li>
        <li class="listitem">
          <p>Fix build failure with <code class="option">--with-pam</code> option on Solaris-based platforms (Tom Lane) <a class="ulink" href="https://postgr.es/c/1ccb3851d" target="_top">§</a></p>
          <p>Solaris is inconsistent with other Unix platforms about the API for PAM authentication. This manifested as an <span class="quote">“<span class="quote">inconsistent pointer</span>”</span> compiler warning, which we never did anything about. But as of GCC 14 it's an error not warning by default, so fix it.</p>
        </li>
        <li class="listitem">
          <p>Make our code portable to GNU Hurd (Michael Banck, Christoph Berg, Samuel Thibault) <a class="ulink" href="https://postgr.es/c/d0a695cf4" target="_top">§</a></p>
          <p>Fix assumptions about <code class="literal">IOV_MAX</code> and <code class="literal">O_RDONLY</code> that don't hold on Hurd.</p>
        </li>
        <li class="listitem">
          <p>Make our usage of <code class="function">memset_s()</code> conform strictly to the C11 standard (Tom Lane) <a class="ulink" href="https://postgr.es/c/9bc2d37cc" target="_top">§</a></p>
          <p>This avoids compile failures on some platforms.</p>
        </li>
        <li class="listitem">
          <p>Prevent uninitialized-value compiler warnings in JSONB comparison code (Tom Lane) <a class="ulink" href="https://postgr.es/c/6c93bf735" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Avoid deprecation warnings when building with <span class="application">libxml2</span> 2.14 and later (Michael Paquier) <a class="ulink" href="https://postgr.es/c/e688cfc2b" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Avoid problems when compiling <code class="filename">pg_locale.h</code> under C++ (John Naylor) <a class="ulink" href="https://postgr.es/c/9560c1ec1" target="_top">§</a></p>
          <p><span class="productname">PostgreSQL</span> header files generally need to be wrapped in <code class="literal">extern "C" { ... }</code> in order to be included in extensions written in C++. This failed for <code class="filename">pg_locale.h</code> because of its use of <span class="application">libicu</span> headers, but we can work around that by suppressing C++-only declarations in those headers. C++ extensions that want to use <span class="application">libicu</span>'s C++ APIs can do so by including the <span class="application">libicu</span> headers ahead of <code class="filename">pg_locale.h</code>.</p>
        </li>
      </ul>
    </div>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="release-13-23.html" title="E.1.&nbsp;Release 13.23">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="release-13-21.html" title="E.3.&nbsp;Release 13.21">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">E.1.&nbsp;Release 13.23&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.23 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;E.3.&nbsp;Release 13.21</td>
    </tr>
  </table>
</div>

      </div>
      <div class="row">
        <div class="col-md-3">
	  
            <a href="/docs/release/13.21/">
              Previous
            </a>
          
        </div>
        <div class="col-md-6 text-center">
          <p>
            <a href="/docs/release/">
              Return to the Release Notes Archive
            </a>
          </p>
        </div>
        <div class="col-md-3 text-right">
	   
            <a href="/docs/release/13.23/">
              Next
            </a>
          
        </div>
      </div>
    </div>
    <div class="col-md-2 version-list">
      <section>
        <h2>Versions</h2>
      </section>
      <ul>
        
          <li>
            
              <a href="/docs/release/13.23/">
                13.23
              </a>
            
          </li>
        
          <li>
            
              <strong>
                13.22
              </strong>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.21/">
                13.21
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.20/">
                13.20
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.19/">
                13.19
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.18/">
                13.18
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.17/">
                13.17
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.16/">
                13.16
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.15/">
                13.15
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.14/">
                13.14
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.13/">
                13.13
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.12/">
                13.12
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.11/">
                13.11
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.10/">
                13.10
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.9/">
                13.9
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.8/">
                13.8
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.7/">
                13.7
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.6/">
                13.6
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.5/">
                13.5
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.4/">
                13.4
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.3/">
                13.3
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.2/">
                13.2
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.1/">
                13.1
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/13.0/">
                13.0
              </a>
            
          </li>
        
      </ul>
    </div>
</div>


      </div> <!-- pgContentWrap -->
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer id="footer">
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2025 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/main.js?59ea4c82"></script>

  </body>
</html>
