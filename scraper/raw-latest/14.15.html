<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Release Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <link href="/media/css/fontawesome.css?18db9df6" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?18db9df6">

  <script src="/media/js/theme.js?18db9df6"></script>

  

  <base href="/docs/14/" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#pgNavbar" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">November 21, 2024: <a href="/about/news/postgresql-172-166-1510-1415-1318-and-1222-released-2965/">
  PostgreSQL 17.2, 16.6, 15.10, 14.15, 13.18, and 12.22 Released!
</a>

</div>
      </div>
    </div>
    
<div class="container-fluid margin">
  <div class="row">
    <div class="col-lg-2">
      <div id="pgSideWrap">
       
       <div id="pgSideNav">
         <h2>Quick Links</h2>

         <ul>
           
           
           <li><a href="/docs/">Documentation</a>
            
            
           
           </li>
           <li><a href="/docs/">Manuals</a>
            
             <ul>
             
              <li class="last-child"><a href="/docs/manuals/archive/">Archive</a></li>
             
             </ul>
            
            
           
           </li>
           <li><a href="/docs/release/">Release Notes</a>
            
            
           
           </li>
           <li><a href="/docs/books/">Books</a>
            
            
           
           </li>
           <li><a href="/docs/online-resources/">Tutorials &amp; Other Resources</a>
            
            
           
           </li>
           <li><a href="/docs/faq/">FAQ</a>
            
            
           
           </li>
           <li class="last-child"><a href="https://wiki.postgresql.org">Wiki</a>
            
            
           </li>
            
           
        </ul>

       </div>
       
      </div> <!-- pgSideWrap -->
    </div>
    <div class="col-lg-10">
      <div id="pgContentWrap">
        


<div id="release-notes" class="row">
    <div class="col-md-10">
      <section>
        <h1>Release Notes <i class="far fa-file-alt"></i></h1>
        <h2>
          PostgreSQL
          14.15
        </h2>
      </section>
      <div id="docContent">
        <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">E.1.&nbsp;Release 14.15</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
      <th width="60%" align="center">Appendix&nbsp;E.&nbsp;Release Notes</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 14.15 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="release-14-14.html" title="E.2.&nbsp;Release 14.14">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="RELEASE-14-15">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">E.1.&nbsp;Release 14.15</h2>
      </div>
    </div>
  </div>
  <div class="toc">
    <dl class="toc">
      <dt><span class="sect2"><a href="release-14-15.html#id-1.11.6.6.4">E.1.1. Migration to Version 14.15</a></span></dt>
      <dt><span class="sect2"><a href="release-14-15.html#id-1.11.6.6.5">E.1.2. Changes</a></span></dt>
    </dl>
  </div>
  <p><strong>Release date:&nbsp;</strong>2024-11-21</p>
  <p>This release contains a few fixes from 14.14. For information about new features in major release 14, see <a class="xref" href="release-14.html" title="E.16.&nbsp;Release 14">Section&nbsp;E.16</a>.</p>
  <div class="sect2" id="id-1.11.6.6.4">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">E.1.1.&nbsp;Migration to Version 14.15</h3>
        </div>
      </div>
    </div>
    <p>A dump/restore is not required for those running 14.X.</p>
    <p>However, if you are upgrading from a version earlier than 14.14, see <a class="xref" href="release-14-14.html" title="E.2.&nbsp;Release 14.14">Section&nbsp;E.2</a>.</p>
  </div>
  <div class="sect2" id="id-1.11.6.6.5">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">E.1.2.&nbsp;Changes</h3>
        </div>
      </div>
    </div>
    <div class="itemizedlist">
      <ul class="itemizedlist" style="list-style-type: disc;">
        <li class="listitem">
          <p>Repair ABI break for extensions that work with struct <code class="structname">ResultRelInfo</code> (Tom Lane) <a class="ulink" href="https://postgr.es/c/099e711b7" target="_top">§</a></p>
          <p>Last week's minor releases unintentionally broke binary compatibility with <span class="application">timescaledb</span> and several other extensions. Restore the affected structure to its previous size, so that such extensions need not be rebuilt.</p>
        </li>
        <li class="listitem">
          <p>Restore functionality of <code class="command">ALTER {ROLE|DATABASE} SET role</code> (Tom Lane, Noah Misch) <a class="ulink" href="https://postgr.es/c/be062bfa5" target="_top">§</a></p>
          <p>The fix for CVE-2024-10978 accidentally caused settings for <code class="varname">role</code> to not be applied if they come from non-interactive sources, including previous <code class="command">ALTER {ROLE|DATABASE}</code> commands and the <code class="varname">PGOPTIONS</code> environment variable.</p>
        </li>
        <li class="listitem">
          <p>Fix cases where a logical replication slot's <code class="structfield">restart_lsn</code> could go backwards (Masahiko Sawada) <a class="ulink" href="https://postgr.es/c/26c4e8968" target="_top">§</a></p>
          <p>Previously, restarting logical replication could sometimes cause the slot's restart point to be recomputed as an older value than had previously been advertised in <code class="structname">pg_replication_slots</code>. This is bad, since for example WAL files might have been removed on the basis of the later <code class="structfield">restart_lsn</code> value, in which case replication would fail to restart.</p>
        </li>
        <li class="listitem">
          <p>Avoid deleting still-needed WAL files during <span class="application">pg_rewind</span> (Polina Bungina, Alexander Kukushkin) <a class="ulink" href="https://postgr.es/c/ba2535841" target="_top">§</a></p>
          <p>Previously, in unlucky cases, it was possible for <span class="application">pg_rewind</span> to remove important WAL files from the rewound demoted primary. In particular this happens if those files have been marked for archival (i.e., their <code class="filename">.ready</code> files were created) but not yet archived. Then the newly promoted node no longer has such files because of them having been recycled, but likely they are needed for recovery in the demoted node. If <span class="application">pg_rewind</span> removes them, recovery is not possible anymore.</p>
        </li>
        <li class="listitem">
          <p>Count index scans in <code class="filename">contrib/bloom</code> indexes in the statistics views, such as the <code class="structname">pg_stat_user_indexes</code>.<code class="structfield">idx_scan</code> counter (Masahiro Ikeda) <a class="ulink" href="https://postgr.es/c/2a30b6836" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Fix crash when checking to see if an index's opclass options have changed (Alexander Korotkov) <a class="ulink" href="https://postgr.es/c/247e7647f" target="_top">§</a></p>
          <p>Some forms of <code class="command">ALTER TABLE</code> would fail if the table has an index with non-default operator class options.</p>
        </li>
        <li class="listitem">
          <p>Avoid assertion failure caused by disconnected NFA sub-graphs in regular expression parsing (Tom Lane) <a class="ulink" href="https://postgr.es/c/2bdd3b248" target="_top">§</a></p>
          <p>This bug does not appear to have any visible consequences in non-assert builds.</p>
        </li>
      </ul>
    </div>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="release-14-14.html" title="E.2.&nbsp;Release 14.14">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">Appendix&nbsp;E.&nbsp;Release Notes&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 14.15 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;E.2.&nbsp;Release 14.14</td>
    </tr>
  </table>
</div>

      </div>
      <div class="row">
        <div class="col-md-3">
	  
            <a href="/docs/release/14.14/">
              Previous
            </a>
          
        </div>
        <div class="col-md-6 text-center">
          <p>
            <a href="/docs/release/">
              Return to the Release Notes Archive
            </a>
          </p>
        </div>
        <div class="col-md-3 text-right">
	   
        </div>
      </div>
    </div>
    <div class="col-md-2 version-list">
      <section>
        <h2>Versions</h2>
      </section>
      <ul>
        
          <li>
            
              <strong>
                14.15
              </strong>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.14/">
                14.14
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.13/">
                14.13
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.12/">
                14.12
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.11/">
                14.11
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.10/">
                14.10
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.9/">
                14.9
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.8/">
                14.8
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.7/">
                14.7
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.6/">
                14.6
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.5/">
                14.5
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.4/">
                14.4
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.3/">
                14.3
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.2/">
                14.2
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.1/">
                14.1
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/14.0/">
                14.0
              </a>
            
          </li>
        
      </ul>
    </div>
</div>


      </div> <!-- pgContentWrap -->
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer id="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <ul>
              <li><a href="https://twitter.com/postgresql"><img src="/media/img/atpostgresql.png" alt="@postgresql"></a></li>
              <li><a href="https://git.postgresql.org/gitweb/?p=postgresql.git"><img src="/media/img/git.png" alt="Git"></a></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2024 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/jquery-3.4.1.slim.min.js"></script>
    <script src="/media/js/popper-1.16.0.min.js"></script>
    <script src="/media/js/bootstrap-4.4.1.min.js"></script>
    <script src="/media/js/main.js?18db9df6"></script>

  </body>
</html>
