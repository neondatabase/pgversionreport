<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Release Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <link href="/media/css/fontawesome.css?59ea4c82" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?59ea4c82">

  <script src="/media/js/theme.js?59ea4c82"></script>

  

  <base href="/docs/10/" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <input type="checkbox" id="navbar-toggler" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <label for="navbar-toggler" id="navbar-toggler-label" class="navbar-toggler" tabindex="0"><span class="navbar-toggler-icon"></span></label>
            <div class="navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">November 13, 2025: <a href="/about/news/postgresql-181-177-1611-1515-1420-and-1323-released-3171/">
  PostgreSQL 18.1, 17.7, 16.11, 15.15, 14.20, and 13.23 Released!
</a>
</div>
      </div>
    </div>
    
<div class="container-fluid margin">
  <div class="row">
    <div class="col-lg-2">
      <div id="pgSideWrap">
       
       <div id="pgSideNav">
         <h2>Quick Links</h2>

         <ul>
           
           
           <li><a href="/docs/">Documentation</a>
            
            
           
           </li>
           <li><a href="/docs/">Manuals</a>
            
             <ul>
             
              <li class="last-child"><a href="/docs/manuals/archive/">Archive</a></li>
             
             </ul>
            
            
           
           </li>
           <li><a href="/docs/release/">Release Notes</a>
            
            
           
           </li>
           <li><a href="/docs/books/">Books</a>
            
            
           
           </li>
           <li><a href="/docs/online-resources/">Tutorials &amp; Other Resources</a>
            
            
           
           </li>
           <li><a href="/docs/faq/">FAQ</a>
            
            
           
           </li>
           <li class="last-child"><a href="https://wiki.postgresql.org">Wiki</a>
            
            
           </li>
            
           
        </ul>

       </div>
       
      </div> <!-- pgSideWrap -->
    </div>
    <div class="col-lg-10">
      <div id="pgContentWrap">
        


<div id="release-notes" class="row">
    <div class="col-md-10">
      <section>
        <h1>Release Notes <i class="far fa-file-alt"></i></h1>
        <h2>
          PostgreSQL
          10.3
        </h2>
      </section>
      <div id="docContent">
        <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
<table width="100%" summary="Navigation header">
<tr>
<th colspan="5" align="center">E.21.&nbsp;Release 10.3</th>
</tr>
<tr>
<td width="10%" align="left"><a accesskey="p" href="release-10-4.html" title="E.20.&nbsp;Release 10.4">Prev</a>&nbsp;</td>
<td width="10%" align="left"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
<th width="60%" align="center">Appendix&nbsp;E.&nbsp;Release Notes</th>
<td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.23 Documentation">Home</a></td>
<td width="10%" align="right">&nbsp;<a accesskey="n" href="release-10-2.html" title="E.22.&nbsp;Release 10.2">Next</a></td>
</tr>
</table>
<hr /></div>
<div class="sect1" id="RELEASE-10-3">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both">E.21.&nbsp;Release 10.3</h2>
</div>
</div>
</div>
<div class="toc">
<dl class="toc">
<dt><span class="sect2"><a href="release-10-3.html#id-1.11.6.25.4">E.21.1. Migration to Version 10.3</a></span></dt>
<dt><span class="sect2"><a href="release-10-3.html#id-1.11.6.25.5">E.21.2. Changes</a></span></dt>
</dl>
</div>
<p><strong>Release date:&nbsp;</strong>2018-03-01</p>
<p>This release contains a variety of fixes from 10.2. For information about new features in major release 10, see <a class="xref" href="release-10.html" title="E.24.&nbsp;Release 10">Section&nbsp;E.24</a>.</p>
<div class="sect2" id="id-1.11.6.25.4">
<div class="titlepage">
<div>
<div>
<h3 class="title">E.21.1.&nbsp;Migration to Version 10.3</h3>
</div>
</div>
</div>
<p>A dump/restore is not required for those running 10.X.</p>
<p>However, if you run an installation in which not all users are mutually trusting, or if you maintain an application or extension that is intended for use in arbitrary situations, it is strongly recommended that you read the documentation changes described in the first changelog entry below, and take suitable steps to ensure that your installation or code is secure.</p>
<p>Also, the changes described in the second changelog entry below may cause functions used in index expressions or materialized views to fail during auto-analyze, or when reloading from a dump. After upgrading, monitor the server logs for such problems, and fix affected functions.</p>
<p>Also, if you are upgrading from a version earlier than 10.2, see <a class="xref" href="release-10-2.html" title="E.22.&nbsp;Release 10.2">Section&nbsp;E.22</a>.</p>
</div>
<div class="sect2" id="id-1.11.6.25.5">
<div class="titlepage">
<div>
<div>
<h3 class="title">E.21.2.&nbsp;Changes</h3>
</div>
</div>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc;">
<li class="listitem">
<p>Document how to configure installations and applications to guard against search-path-dependent trojan-horse attacks from other users (Noah Misch)</p>
<p>Using a <code class="varname">search_path</code> setting that includes any schemas writable by a hostile user enables that user to capture control of queries and then run arbitrary SQL code with the permissions of the attacked user. While it is possible to write queries that are proof against such hijacking, it is notationally tedious, and it's very easy to overlook holes. Therefore, we now recommend configurations in which no untrusted schemas appear in one's search path. Relevant documentation appears in <a class="xref" href="ddl-schemas.html#DDL-SCHEMAS-PATTERNS" title="5.8.6.&nbsp;Usage Patterns">Section&nbsp;5.8.6</a> (for database administrators and users), <a class="xref" href="libpq-connect.html" title="33.1.&nbsp;Database Connection Control Functions">Section&nbsp;33.1</a> (for application authors), <a class="xref" href="extend-extensions.html#EXTEND-EXTENSIONS-SECURITY" title="37.15.6.&nbsp;Security Considerations for Extensions">Section&nbsp;37.15.6</a> (for extension authors), and <a class="xref" href="sql-createfunction.html" title="CREATE FUNCTION"><span class="refentrytitle">CREATE FUNCTION</span></a> (for authors of <code class="literal">SECURITY DEFINER</code> functions). (CVE-2018-1058)</p>
</li>
<li class="listitem">
<p>Avoid use of insecure <code class="varname">search_path</code> settings in <span class="application">pg_dump</span> and other client programs (Noah Misch, Tom Lane)</p>
<p><span class="application">pg_dump</span>, <span class="application">pg_upgrade</span>, <span class="application">vacuumdb</span> and other <span class="productname">PostgreSQL</span>-provided applications were themselves vulnerable to the type of hijacking described in the previous changelog entry; since these applications are commonly run by superusers, they present particularly attractive targets. To make them secure whether or not the installation as a whole has been secured, modify them to include only the <code class="structname">pg_catalog</code> schema in their <code class="varname">search_path</code> settings. Autovacuum worker processes now do the same, as well.</p>
<p>In cases where user-provided functions are indirectly executed by these programs — for example, user-provided functions in index expressions — the tighter <code class="varname">search_path</code> may result in errors, which will need to be corrected by adjusting those user-provided functions to not assume anything about what search path they are invoked under. That has always been good practice, but now it will be necessary for correct behavior. (CVE-2018-1058)</p>
</li>
<li class="listitem">
<p>Prevent logical replication from trying to ship changes for unpublishable relations (Peter Eisentraut)</p>
<p>A publication marked <code class="literal">FOR ALL TABLES</code> would incorrectly ship changes in materialized views and <code class="structname">information_schema</code> tables, which are supposed to be omitted from the change stream.</p>
</li>
<li class="listitem">
<p>Fix misbehavior of concurrent-update rechecks with CTE references appearing in subplans (Tom Lane)</p>
<p>If a CTE (<code class="literal">WITH</code> clause reference) is used in an InitPlan or SubPlan, and the query requires a recheck due to trying to update or lock a concurrently-updated row, incorrect results could be obtained.</p>
</li>
<li class="listitem">
<p>Fix planner failures with overlapping mergejoin clauses in an outer join (Tom Lane)</p>
<p>These mistakes led to <span class="quote">“<span class="quote">left and right pathkeys do not match in mergejoin</span>”</span> or <span class="quote">“<span class="quote">outer pathkeys do not match mergeclauses</span>”</span> planner errors in corner cases.</p>
</li>
<li class="listitem">
<p>Repair <span class="application">pg_upgrade</span>'s failure to preserve <code class="structfield">relfrozenxid</code> for materialized views (Tom Lane, Andres Freund)</p>
<p>This oversight could lead to data corruption in materialized views after an upgrade, manifesting as <span class="quote">“<span class="quote">could not access status of transaction</span>”</span> or <span class="quote">“<span class="quote">found xmin from before relfrozenxid</span>”</span> errors. The problem would be more likely to occur in seldom-refreshed materialized views, or ones that were maintained only with <code class="command">REFRESH MATERIALIZED VIEW CONCURRENTLY</code>.</p>
<p>If such corruption is observed, it can be repaired by refreshing the materialized view (without <code class="literal">CONCURRENTLY</code>).</p>
</li>
<li class="listitem">
<p>Fix incorrect <span class="application">pg_dump</span> output for some non-default sequence limit values (Alexey Bashtanov)</p>
</li>
<li class="listitem">
<p>Fix <span class="application">pg_dump</span>'s mishandling of <code class="literal">STATISTICS</code> objects (Tom Lane)</p>
<p>An extended statistics object's schema was mislabeled in the dump's table of contents, possibly leading to the wrong results in a schema-selective restore. Its ownership was not correctly restored, either. Also, change the logic so that statistics objects are dumped/restored, or not, as independent objects rather than tying them to the dump/restore decision for the table they are on. The original definition could not scale to the planned future extension to cross-table statistics.</p>
</li>
<li class="listitem">
<p>Fix incorrect reporting of PL/Python function names in error <code class="literal">CONTEXT</code> stacks (Tom Lane)</p>
<p>An error occurring within a nested PL/Python function call (that is, one reached via a SPI query from another PL/Python function) would result in a stack trace showing the inner function's name twice, rather than the expected results. Also, an error in a nested PL/Python <code class="literal">DO</code> block could result in a null pointer dereference crash on some platforms.</p>
</li>
<li class="listitem">
<p>Allow <code class="filename">contrib/auto_explain</code>'s <code class="varname">log_min_duration</code> setting to range up to <code class="literal">INT_MAX</code>, or about 24 days instead of 35 minutes (Tom Lane)</p>
</li>
<li class="listitem">
<p>Mark assorted GUC variables as <code class="literal">PGDLLIMPORT</code>, to ease porting extension modules to Windows (Metin Doslu)</p>
</li>
</ul>
</div>
</div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
<hr />
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left"><a accesskey="p" href="release-10-4.html" title="E.20.&nbsp;Release 10.4">Prev</a>&nbsp;</td>
<td width="20%" align="center"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href="release-10-2.html" title="E.22.&nbsp;Release 10.2">Next</a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top">E.20.&nbsp;Release 10.4&nbsp;</td>
<td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 10.23 Documentation">Home</a></td>
<td width="40%" align="right" valign="top">&nbsp;E.22.&nbsp;Release 10.2</td>
</tr>
</table>
</div>


      </div>
      <div class="row">
        <div class="col-md-3">
	  
            <a href="/docs/release/10.2/">
              Previous
            </a>
          
        </div>
        <div class="col-md-6 text-center">
          <p>
            <a href="/docs/release/">
              Return to the Release Notes Archive
            </a>
          </p>
        </div>
        <div class="col-md-3 text-right">
	   
            <a href="/docs/release/10.4/">
              Next
            </a>
          
        </div>
      </div>
    </div>
    <div class="col-md-2 version-list">
      <section>
        <h2>Versions</h2>
      </section>
      <ul>
        
          <li>
            
              <a href="/docs/release/10.23/">
                10.23
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.22/">
                10.22
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.21/">
                10.21
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.20/">
                10.20
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.19/">
                10.19
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.18/">
                10.18
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.17/">
                10.17
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.16/">
                10.16
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.15/">
                10.15
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.14/">
                10.14
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.13/">
                10.13
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.12/">
                10.12
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.11/">
                10.11
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.10/">
                10.10
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.9/">
                10.9
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.8/">
                10.8
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.7/">
                10.7
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.6/">
                10.6
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.5/">
                10.5
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.4/">
                10.4
              </a>
            
          </li>
        
          <li>
            
              <strong>
                10.3
              </strong>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.2/">
                10.2
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.1/">
                10.1
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/10.0/">
                10.0
              </a>
            
          </li>
        
      </ul>
    </div>
</div>


      </div> <!-- pgContentWrap -->
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer id="footer">
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2025 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/main.js?59ea4c82"></script>

  </body>
</html>
