<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Release Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <link href="/media/css/fontawesome.css?59ea4c82" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?59ea4c82">

  <script src="/media/js/theme.js?59ea4c82"></script>

  

  <base href="/docs/9.1/" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <input type="checkbox" id="navbar-toggler" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <label for="navbar-toggler" id="navbar-toggler-label" class="navbar-toggler" tabindex="0"><span class="navbar-toggler-icon"></span></label>
            <div class="navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">November 13, 2025: <a href="/about/news/postgresql-181-177-1611-1515-1420-and-1323-released-3171/">
  PostgreSQL 18.1, 17.7, 16.11, 15.15, 14.20, and 13.23 Released!
</a>
</div>
      </div>
    </div>
    
<div class="container-fluid margin">
  <div class="row">
    <div class="col-lg-2">
      <div id="pgSideWrap">
       
       <div id="pgSideNav">
         <h2>Quick Links</h2>

         <ul>
           
           
           <li><a href="/docs/">Documentation</a>
            
            
           
           </li>
           <li><a href="/docs/">Manuals</a>
            
             <ul>
             
              <li class="last-child"><a href="/docs/manuals/archive/">Archive</a></li>
             
             </ul>
            
            
           
           </li>
           <li><a href="/docs/release/">Release Notes</a>
            
            
           
           </li>
           <li><a href="/docs/books/">Books</a>
            
            
           
           </li>
           <li><a href="/docs/online-resources/">Tutorials &amp; Other Resources</a>
            
            
           
           </li>
           <li><a href="/docs/faq/">FAQ</a>
            
            
           
           </li>
           <li class="last-child"><a href="https://wiki.postgresql.org">Wiki</a>
            
            
           </li>
            
           
        </ul>

       </div>
       
      </div> <!-- pgSideWrap -->
    </div>
    <div class="col-lg-10">
      <div id="pgContentWrap">
        


<div id="release-notes" class="row">
    <div class="col-md-10">
      <section>
        <h1>Release Notes <i class="far fa-file-alt"></i></h1>
        <h2>
          PostgreSQL
          9.1.4
        </h2>
      </section>
      <div id="docContent">
        <div class="NAVHEADER">
  <table summary="Header navigation table" width="100%" border="0"
  cellpadding="0" cellspacing="0">
    <tr>
      <th colspan="5" align="center" valign="bottom"><a href=
      "index.html">PostgreSQL 9.1.24 Documentation</a></th>
    </tr>

    <tr>
      <td width="10%" align="left" valign="top"><a title=
      "Release 9.1.5" href="release-9-1-5.html" accesskey=
      "P">Prev</a></td>

      <td width="10%" align="left" valign="top"><a href=
      "release.html" accesskey="U">Up</a></td>

      <td width="60%" align="center" valign="bottom">Appendix E.
      Release Notes</td>

      <td width="20%" align="right" valign="top"><a title=
      "Release 9.1.3" href="release-9-1-3.html" accesskey=
      "N">Next</a></td>
    </tr>
  </table>
  <hr class="c1" width="100%" />
</div>

<div class="SECT1">
  <h1 class="SECT1"><a name="RELEASE-9-1-4" id=
  "RELEASE-9-1-4">E.21. Release 9.1.4</a></h1>

  <div class="NOTE">
    <blockquote class="NOTE">
      <p><b>Release Date:</b> 2012-06-04</p>
    </blockquote>
  </div>

  <p>This release contains a variety of fixes from 9.1.3. For
  information about new features in the 9.1 major release, see
  <a href="release-9-1.html">Section E.25</a>.</p>

  <div class="SECT2">
    <h2 class="SECT2"><a name="AEN109689" id="AEN109689">E.21.1.
    Migration to Version 9.1.4</a></h2>

    <p>A dump/restore is not required for those running 9.1.X.</p>

    <p>However, if you use the <tt class="TYPE">citext</tt> data
    type, and you upgraded from a previous major release by running
    <span class="APPLICATION">pg_upgrade</span>, you should run
    <tt class="LITERAL">CREATE EXTENSION citext FROM
    unpackaged</tt> to avoid collation-related failures in
    <tt class="TYPE">citext</tt> operations. The same is necessary
    if you restore a dump from a pre-9.1 database that contains an
    instance of the <tt class="TYPE">citext</tt> data type. If
    you've already run the <tt class="COMMAND">CREATE
    EXTENSION</tt> command before upgrading to 9.1.4, you will
    instead need to do manual catalog updates as explained in the
    third changelog item below.</p>

    <p>Also, if you are upgrading from a version earlier than
    9.1.2, see <a href="release-9-1-2.html">Section E.23</a>.</p>
  </div>

  <div class="SECT2">
    <h2 class="SECT2"><a name="AEN109701" id="AEN109701">E.21.2.
    Changes</a></h2>

    <ul>
      <li>
        <p>Fix incorrect password transformation in <tt class=
        "FILENAME">contrib/pgcrypto</tt>'s DES <code class=
        "FUNCTION">crypt()</code> function (Solar Designer)</p>

        <p>If a password string contained the byte value <tt class=
        "LITERAL">0x80</tt>, the remainder of the password was
        ignored, causing the password to be much weaker than it
        appeared. With this fix, the rest of the string is properly
        included in the DES hash. Any stored password values that
        are affected by this bug will thus no longer match, so the
        stored values may need to be updated. (CVE-2012-2143)</p>
      </li>

      <li>
        <p>Ignore <tt class="LITERAL">SECURITY DEFINER</tt> and
        <tt class="LITERAL">SET</tt> attributes for a procedural
        language's call handler (Tom Lane)</p>

        <p>Applying such attributes to a call handler could crash
        the server. (CVE-2012-2655)</p>
      </li>

      <li>
        <p>Make <tt class="FILENAME">contrib/citext</tt>'s upgrade
        script fix collations of <tt class="TYPE">citext</tt>
        arrays and domains over <tt class="TYPE">citext</tt> (Tom
        Lane)</p>

        <p>Release 9.1.2 provided a fix for collations of
        <tt class="TYPE">citext</tt> columns and indexes in
        databases upgraded or reloaded from pre-9.1 installations,
        but that fix was incomplete: it neglected to handle arrays
        and domains over <tt class="TYPE">citext</tt>. This release
        extends the module's upgrade script to handle these cases.
        As before, if you have already run the upgrade script,
        you'll need to run the collation update commands by hand
        instead. See the 9.1.2 release notes for more information
        about doing this.</p>
      </li>

      <li>
        <p>Allow numeric timezone offsets in <tt class=
        "TYPE">timestamp</tt> input to be up to 16 hours away from
        UTC (Tom Lane)</p>

        <p>Some historical time zones have offsets larger than 15
        hours, the previous limit. This could result in dumped data
        values being rejected during reload.</p>
      </li>

      <li>
        <p>Fix timestamp conversion to cope when the given time is
        exactly the last DST transition time for the current
        timezone (Tom Lane)</p>

        <p>This oversight has been there a long time, but was not
        noticed previously because most DST-using zones are
        presumed to have an indefinite sequence of future DST
        transitions.</p>
      </li>

      <li>
        <p>Fix <tt class="TYPE">text</tt> to <tt class=
        "TYPE">name</tt> and <tt class="TYPE">char</tt> to
        <tt class="TYPE">name</tt> casts to perform string
        truncation correctly in multibyte encodings (Karl
        Schnaitter)</p>
      </li>

      <li>
        <p>Fix memory copying bug in <code class=
        "FUNCTION">to_tsquery()</code> (Heikki Linnakangas)</p>
      </li>

      <li>
        <p>Ensure <code class="FUNCTION">txid_current()</code>
        reports the correct epoch when executed in hot standby
        (Simon Riggs)</p>
      </li>

      <li>
        <p>Fix planner's handling of outer PlaceHolderVars within
        subqueries (Tom Lane)</p>

        <p>This bug concerns sub-SELECTs that reference variables
        coming from the nullable side of an outer join of the
        surrounding query. In 9.1, queries affected by this bug
        would fail with <span class="QUOTE">"ERROR: Upper-level
        PlaceHolderVar found where not expected"</span>. But in 9.0
        and 8.4, you'd silently get possibly-wrong answers, since
        the value transmitted into the subquery wouldn't go to null
        when it should.</p>
      </li>

      <li>
        <p>Fix planning of <tt class="LITERAL">UNION ALL</tt>
        subqueries with output columns that are not simple
        variables (Tom Lane)</p>

        <p>Planning of such cases got noticeably worse in 9.1 as a
        result of a misguided fix for <span class=
        "QUOTE">"MergeAppend child's targetlist doesn't match
        MergeAppend"</span> errors. Revert that fix and do it
        another way.</p>
      </li>

      <li>
        <p>Fix slow session startup when <tt class=
        "STRUCTNAME">pg_attribute</tt> is very large (Tom Lane)</p>

        <p>If <tt class="STRUCTNAME">pg_attribute</tt> exceeds
        one-fourth of <tt class="VARNAME">shared_buffers</tt>,
        cache rebuilding code that is sometimes needed during
        session start would trigger the synchronized-scan logic,
        causing it to take many times longer than normal. The
        problem was particularly acute if many new sessions were
        starting at once.</p>
      </li>

      <li>
        <p>Ensure sequential scans check for query cancel
        reasonably often (Merlin Moncure)</p>

        <p>A scan encountering many consecutive pages that contain
        no live tuples would not respond to interrupts
        meanwhile.</p>
      </li>

      <li>
        <p>Ensure the Windows implementation of <code class=
        "FUNCTION">PGSemaphoreLock()</code> clears <tt class=
        "VARNAME">ImmediateInterruptOK</tt> before returning (Tom
        Lane)</p>

        <p>This oversight meant that a query-cancel interrupt
        received later in the same query could be accepted at an
        unsafe time, with unpredictable but not good
        consequences.</p>
      </li>

      <li>
        <p>Show whole-row variables safely when printing views or
        rules (Abbas Butt, Tom Lane)</p>

        <p>Corner cases involving ambiguous names (that is, the
        name could be either a table or column name of the query)
        were printed in an ambiguous way, risking that the view or
        rule would be interpreted differently after dump and
        reload. Avoid the ambiguous case by attaching a no-op
        cast.</p>
      </li>

      <li>
        <p>Fix <tt class="COMMAND">COPY FROM</tt> to properly
        handle null marker strings that correspond to invalid
        encoding (Tom Lane)</p>

        <p>A null marker string such as <tt class=
        "LITERAL">E'\\0'</tt> should work, and did work in the
        past, but the case got broken in 8.4.</p>
      </li>

      <li>
        <p>Fix <tt class="COMMAND">EXPLAIN VERBOSE</tt> for
        writable CTEs containing <tt class="LITERAL">RETURNING</tt>
        clauses (Tom Lane)</p>
      </li>

      <li>
        <p>Fix <tt class="COMMAND">PREPARE TRANSACTION</tt> to work
        correctly in the presence of advisory locks (Tom Lane)</p>

        <p>Historically, <tt class="COMMAND">PREPARE
        TRANSACTION</tt> has simply ignored any session-level
        advisory locks the session holds, but this case was
        accidentally broken in 9.1.</p>
      </li>

      <li>
        <p>Fix truncation of unlogged tables (Robert Haas)</p>
      </li>

      <li>
        <p>Ignore missing schemas during non-interactive
        assignments of <tt class="VARNAME">search_path</tt> (Tom
        Lane)</p>

        <p>This re-aligns 9.1's behavior with that of older
        branches. Previously 9.1 would throw an error for
        nonexistent schemas mentioned in <tt class=
        "VARNAME">search_path</tt> settings obtained from places
        such as <tt class="COMMAND">ALTER DATABASE SET</tt>.</p>
      </li>

      <li>
        <p>Fix bugs with temporary or transient tables used in
        extension scripts (Tom Lane)</p>

        <p>This includes cases such as a rewriting <tt class=
        "COMMAND">ALTER TABLE</tt> within an extension update
        script, since that uses a transient table behind the
        scenes.</p>
      </li>

      <li>
        <p>Ensure autovacuum worker processes perform stack depth
        checking properly (Heikki Linnakangas)</p>

        <p>Previously, infinite recursion in a function invoked by
        auto-<tt class="COMMAND">ANALYZE</tt> could crash worker
        processes.</p>
      </li>

      <li>
        <p>Fix logging collector to not lose log coherency under
        high load (Andrew Dunstan)</p>

        <p>The collector previously could fail to reassemble large
        messages if it got too busy.</p>
      </li>

      <li>
        <p>Fix logging collector to ensure it will restart file
        rotation after receiving <span class=
        "SYSTEMITEM">SIGHUP</span> (Tom Lane)</p>
      </li>

      <li>
        <p>Fix <span class="QUOTE">"too many LWLocks taken"</span>
        failure in GiST indexes (Heikki Linnakangas)</p>
      </li>

      <li>
        <p>Fix WAL replay logic for GIN indexes to not fail if the
        index was subsequently dropped (Tom Lane)</p>
      </li>

      <li>
        <p>Correctly detect SSI conflicts of prepared transactions
        after a crash (Dan Ports)</p>
      </li>

      <li>
        <p>Avoid synchronous replication delay when committing a
        transaction that only modified temporary tables (Heikki
        Linnakangas)</p>

        <p>In such a case the transaction's commit record need not
        be flushed to standby servers, but some of the code didn't
        know that and waited for it to happen anyway.</p>
      </li>

      <li>
        <p>Fix error handling in <span class=
        "APPLICATION">pg_basebackup</span> (Thomas Ogrisegg, Fujii
        Masao)</p>
      </li>

      <li>
        <p>Fix <span class="APPLICATION">walsender</span> to not go
        into a busy loop if connection is terminated (Fujii
        Masao)</p>
      </li>

      <li>
        <p>Fix memory leak in PL/pgSQL's <tt class="COMMAND">RETURN
        NEXT</tt> command (Joe Conway)</p>
      </li>

      <li>
        <p>Fix PL/pgSQL's <tt class="COMMAND">GET DIAGNOSTICS</tt>
        command when the target is the function's first variable
        (Tom Lane)</p>
      </li>

      <li>
        <p>Ensure that PL/Perl package-qualifies the <tt class=
        "VARNAME">_TD</tt> variable (Alex Hunsaker)</p>

        <p>This bug caused trigger invocations to fail when they
        are nested within a function invocation that changes the
        current package.</p>
      </li>

      <li>
        <p>Fix PL/Python functions returning composite types to
        accept a string for their result value (Jan Urbanski)</p>

        <p>This case was accidentally broken by the 9.1 additions
        to allow a composite result value to be supplied in other
        formats, such as dictionaries.</p>
      </li>

      <li>
        <p>Fix potential access off the end of memory in
        <span class="APPLICATION">psql</span>'s expanded display
        (<tt class="COMMAND">\x</tt>) mode (Peter Eisentraut)</p>
      </li>

      <li>
        <p>Fix several performance problems in <span class=
        "APPLICATION">pg_dump</span> when the database contains
        many objects (Jeff Janes, Tom Lane)</p>

        <p><span class="APPLICATION">pg_dump</span> could get very
        slow if the database contained many schemas, or if many
        objects are in dependency loops, or if there are many owned
        sequences.</p>
      </li>

      <li>
        <p>Fix memory and file descriptor leaks in <span class=
        "APPLICATION">pg_restore</span> when reading a
        directory-format archive (Peter Eisentraut)</p>
      </li>

      <li>
        <p>Fix <span class="APPLICATION">pg_upgrade</span> for the
        case that a database stored in a non-default tablespace
        contains a table in the cluster's default tablespace (Bruce
        Momjian)</p>
      </li>

      <li>
        <p>In <span class="APPLICATION">ecpg</span>, fix rare
        memory leaks and possible overwrite of one byte after the
        <tt class="STRUCTNAME">sqlca_t</tt> structure (Peter
        Eisentraut)</p>
      </li>

      <li>
        <p>Fix <tt class="FILENAME">contrib/dblink</tt>'s
        <code class="FUNCTION">dblink_exec()</code> to not leak
        temporary database connections upon error (Tom Lane)</p>
      </li>

      <li>
        <p>Fix <tt class="FILENAME">contrib/dblink</tt> to report
        the correct connection name in error messages (Kyotaro
        Horiguchi)</p>
      </li>

      <li>
        <p>Fix <tt class="FILENAME">contrib/vacuumlo</tt> to use
        multiple transactions when dropping many large objects (Tim
        Lewis, Robert Haas, Tom Lane)</p>

        <p>This change avoids exceeding <tt class=
        "VARNAME">max_locks_per_transaction</tt> when many objects
        need to be dropped. The behavior can be adjusted with the
        new <tt class="LITERAL">-l</tt> (limit) option.</p>
      </li>

      <li>
        <p>Update time zone data files to <span class=
        "APPLICATION">tzdata</span> release 2012c for DST law
        changes in Antarctica, Armenia, Chile, Cuba, Falkland
        Islands, Gaza, Haiti, Hebron, Morocco, Syria, and Tokelau
        Islands; also historical corrections for Canada.</p>
      </li>
    </ul>
  </div>
</div>

<div class="NAVFOOTER">
  <hr class="c1" width="100%" />

  <table summary="Footer navigation table" width="100%" border="0"
  cellpadding="0" cellspacing="0">
    <tr>
      <td width="33%" align="left" valign="top"><a href=
      "release-9-1-5.html" accesskey="P">Prev</a></td>

      <td width="34%" align="center" valign="top"><a href=
      "index.html" accesskey="H">Home</a></td>

      <td width="33%" align="right" valign="top"><a href=
      "release-9-1-3.html" accesskey="N">Next</a></td>
    </tr>

    <tr>
      <td width="33%" align="left" valign="top">Release 9.1.5</td>

      <td width="34%" align="center" valign="top"><a href=
      "release.html" accesskey="U">Up</a></td>

      <td width="33%" align="right" valign="top">Release 9.1.3</td>
    </tr>
  </table>
</div>

      </div>
      <div class="row">
        <div class="col-md-3">
	  
            <a href="/docs/release/9.1.3/">
              Previous
            </a>
          
        </div>
        <div class="col-md-6 text-center">
          <p>
            <a href="/docs/release/">
              Return to the Release Notes Archive
            </a>
          </p>
        </div>
        <div class="col-md-3 text-right">
	   
            <a href="/docs/release/9.1.5/">
              Next
            </a>
          
        </div>
      </div>
    </div>
    <div class="col-md-2 version-list">
      <section>
        <h2>Versions</h2>
      </section>
      <ul>
        
          <li>
            
              <a href="/docs/release/9.1.24/">
                9.1.24
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.23/">
                9.1.23
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.22/">
                9.1.22
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.21/">
                9.1.21
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.20/">
                9.1.20
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.19/">
                9.1.19
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.18/">
                9.1.18
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.17/">
                9.1.17
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.16/">
                9.1.16
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.15/">
                9.1.15
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.14/">
                9.1.14
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.13/">
                9.1.13
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.12/">
                9.1.12
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.11/">
                9.1.11
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.10/">
                9.1.10
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.9/">
                9.1.9
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.8/">
                9.1.8
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.7/">
                9.1.7
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.6/">
                9.1.6
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.5/">
                9.1.5
              </a>
            
          </li>
        
          <li>
            
              <strong>
                9.1.4
              </strong>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.3/">
                9.1.3
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.2/">
                9.1.2
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.1/">
                9.1.1
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.1.0/">
                9.1.0
              </a>
            
          </li>
        
      </ul>
    </div>
</div>


      </div> <!-- pgContentWrap -->
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer id="footer">
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2025 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/main.js?59ea4c82"></script>

  </body>
</html>
