<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Release Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <link href="/media/css/fontawesome.css?59ea4c82" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?59ea4c82">

  <script src="/media/js/theme.js?59ea4c82"></script>

  

  <base href="/docs/11/" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <input type="checkbox" id="navbar-toggler" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <label for="navbar-toggler" id="navbar-toggler-label" class="navbar-toggler" tabindex="0"><span class="navbar-toggler-icon"></span></label>
            <div class="navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">November 13, 2025: <a href="/about/news/postgresql-181-177-1611-1515-1420-and-1323-released-3171/">
  PostgreSQL 18.1, 17.7, 16.11, 15.15, 14.20, and 13.23 Released!
</a>
</div>
      </div>
    </div>
    
<div class="container-fluid margin">
  <div class="row">
    <div class="col-lg-2">
      <div id="pgSideWrap">
       
       <div id="pgSideNav">
         <h2>Quick Links</h2>

         <ul>
           
           
           <li><a href="/docs/">Documentation</a>
            
            
           
           </li>
           <li><a href="/docs/">Manuals</a>
            
             <ul>
             
              <li class="last-child"><a href="/docs/manuals/archive/">Archive</a></li>
             
             </ul>
            
            
           
           </li>
           <li><a href="/docs/release/">Release Notes</a>
            
            
           
           </li>
           <li><a href="/docs/books/">Books</a>
            
            
           
           </li>
           <li><a href="/docs/online-resources/">Tutorials &amp; Other Resources</a>
            
            
           
           </li>
           <li><a href="/docs/faq/">FAQ</a>
            
            
           
           </li>
           <li class="last-child"><a href="https://wiki.postgresql.org">Wiki</a>
            
            
           </li>
            
           
        </ul>

       </div>
       
      </div> <!-- pgSideWrap -->
    </div>
    <div class="col-lg-10">
      <div id="pgContentWrap">
        


<div id="release-notes" class="row">
    <div class="col-md-10">
      <section>
        <h1>Release Notes <i class="far fa-file-alt"></i></h1>
        <h2>
          PostgreSQL
          11.22
        </h2>
      </section>
      <div id="docContent">
        <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">E.1.&nbsp;Release 11.22</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
      <th width="60%" align="center">Appendix&nbsp;E.&nbsp;Release Notes</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 11.22 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="release-11-21.html" title="E.2.&nbsp;Release 11.21">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="RELEASE-11-22">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">E.1.&nbsp;Release 11.22</h2>
      </div>
    </div>
  </div>
  <div class="toc">
    <dl class="toc">
      <dt><span class="sect2"><a href="release-11-22.html#id-1.11.6.5.5">E.1.1. Migration to Version 11.22</a></span></dt>
      <dt><span class="sect2"><a href="release-11-22.html#id-1.11.6.5.6">E.1.2. Changes</a></span></dt>
    </dl>
  </div>
  <p><strong>Release date:&nbsp;</strong>2023-11-09</p>
  <p>This release contains a variety of fixes from 11.21. For information about new features in major release 11, see <a class="xref" href="release-11.html" title="E.23.&nbsp;Release 11">Section&nbsp;E.23</a>.</p>
  <p>This is expected to be the last <span class="productname">PostgreSQL</span> release in the 11.X series. Users are encouraged to update to a newer release branch soon.</p>
  <div class="sect2" id="id-1.11.6.5.5">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">E.1.1.&nbsp;Migration to Version 11.22</h3>
        </div>
      </div>
    </div>
    <p>A dump/restore is not required for those running 11.X.</p>
    <p>However, if you are upgrading from a version earlier than 11.21, see <a class="xref" href="release-11-21.html" title="E.2.&nbsp;Release 11.21">Section&nbsp;E.2</a>.</p>
  </div>
  <div class="sect2" id="id-1.11.6.5.6">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">E.1.2.&nbsp;Changes</h3>
        </div>
      </div>
    </div>
    <div class="itemizedlist">
      <ul class="itemizedlist" style="list-style-type: disc;">
        <li class="listitem">
          <p>Fix handling of unknown-type arguments in <code class="literal">DISTINCT</code> <code class="type">"any"</code> aggregate functions (Tom Lane)</p>
          <p>This error led to a <code class="type">text</code>-type value being interpreted as an <code class="type">unknown</code>-type value (that is, a zero-terminated string) at runtime. This could result in disclosure of server memory following the <code class="type">text</code> value.</p>
          <p>The <span class="productname">PostgreSQL</span> Project thanks Jingzhou Fu for reporting this problem. (CVE-2023-5868)</p>
        </li>
        <li class="listitem">
          <p>Detect integer overflow while computing new array dimensions (Tom Lane)</p>
          <p>When assigning new elements to array subscripts that are outside the current array bounds, an undetected integer overflow could occur in edge cases. Memory stomps that are potentially exploitable for arbitrary code execution are possible, and so is disclosure of server memory.</p>
          <p>The <span class="productname">PostgreSQL</span> Project thanks Pedro Gallegos for reporting this problem. (CVE-2023-5869)</p>
        </li>
        <li class="listitem">
          <p>Prevent the <code class="literal">pg_signal_backend</code> role from signalling background workers and autovacuum processes (Noah Misch, Jelte Fennema-Nio)</p>
          <p>The documentation says that <code class="literal">pg_signal_backend</code> cannot issue signals to superuser-owned processes. It was able to signal these background processes, though, because they advertise a role OID of zero. Treat that as indicating superuser ownership. The security implications of cancelling one of these process types are fairly small so far as the core code goes (we'll just start another one), but extensions might add background workers that are more vulnerable.</p>
          <p>Also ensure that the <code class="varname">is_superuser</code> parameter is set correctly in such processes. No specific security consequences are known for that oversight, but it might be significant for some extensions.</p>
          <p>The <span class="productname">PostgreSQL</span> Project thanks Hemanth Sandrana and Mahendrakar Srinivasarao for reporting this problem. (CVE-2023-5870)</p>
        </li>
        <li class="listitem">
          <p>Fix partition step generation and runtime partition pruning for hash-partitioned tables with multiple partition keys (David Rowley)</p>
          <p>Some cases involving an <code class="literal">IS NULL</code> condition on one of the partition keys could result in a crash.</p>
        </li>
        <li class="listitem">
          <p>Fix edge case in btree mark/restore processing of ScalarArrayOpExpr clauses (Peter Geoghegan)</p>
          <p>When restoring an indexscan to a previously marked position, the code could miss required setup steps if the scan had advanced exactly to the end of the matches for a ScalarArrayOpExpr (that is, an <code class="literal">indexcol = ANY(ARRAY[])</code>) clause. This could result in missing some rows that should have been fetched.</p>
        </li>
        <li class="listitem">
          <p>Fix intra-query memory leak when a set-returning function repeatedly returns zero rows (Tom Lane)</p>
        </li>
        <li class="listitem">
          <p>Don't crash if <code class="function">cursor_to_xmlschema()</code> is applied to a non-data-returning Portal (Boyu Yang)</p>
        </li>
        <li class="listitem">
          <p>Handle invalid indexes more cleanly in assorted SQL functions (Noah Misch)</p>
          <p>Report an error if <code class="function">pgstatindex()</code>, <code class="function">pgstatginindex()</code>, <code class="function">pgstathashindex()</code>, or <code class="function">pgstattuple()</code> is applied to an invalid index. If <code class="function">brin_desummarize_range()</code>, <code class="function">brin_summarize_new_values()</code>, <code class="function">brin_summarize_range()</code>, or <code class="function">gin_clean_pending_list()</code> is applied to an invalid index, do nothing except to report a debug-level message. Formerly these functions attempted to process the index, and might fail in strange ways depending on what the failed <code class="command">CREATE INDEX</code> had left behind.</p>
        </li>
        <li class="listitem">
          <p>Avoid premature memory allocation failure with long inputs to <code class="function">to_tsvector()</code> (Tom Lane)</p>
        </li>
        <li class="listitem">
          <p>Fix over-allocation of the constructed <code class="type">tsvector</code> in <code class="function">tsvectorrecv()</code> (Denis Erokhin)</p>
          <p>If the incoming vector includes position data, the binary receive function left wasted space (roughly equal to the size of the position data) in the finished <code class="type">tsvector</code>. In extreme cases this could lead to <span class="quote">“<span class="quote">maximum total lexeme length exceeded</span>”</span> failures for vectors that were under the length limit when emitted. In any case it could lead to wasted space on-disk.</p>
        </li>
        <li class="listitem">
          <p>Fix incorrect coding in <code class="function">gtsvector_picksplit()</code> (Alexander Lakhin)</p>
          <p>This could lead to poor page-split decisions in GiST indexes on <code class="type">tsvector</code> columns.</p>
        </li>
        <li class="listitem">
          <p>Ensure we have a snapshot while dropping <code class="literal">ON COMMIT DROP</code> temp tables (Tom Lane)</p>
          <p>This prevents possible misbehavior if any catalog entries for the temp tables have fields wide enough to require toasting (such as a very complex <code class="literal">CHECK</code> condition).</p>
        </li>
        <li class="listitem">
          <p>Avoid improper response to shutdown signals in child processes just forked by <code class="function">system()</code> (Nathan Bossart)</p>
          <p>This fix avoids a race condition in which a child process that has been forked off by <code class="function">system()</code>, but hasn't yet exec'd the intended child program, might receive and act on a signal intended for the parent server process. That would lead to duplicate cleanup actions being performed, which will not end well.</p>
        </li>
        <li class="listitem">
          <p>Avoid torn reads of <code class="filename">pg_control</code> in relevant SQL functions (Thomas Munro)</p>
          <p>Acquire the appropriate lock before reading <code class="filename">pg_control</code>, to ensure we get a consistent view of that file.</p>
        </li>
        <li class="listitem">
          <p>Track the dependencies of cached <code class="command">CALL</code> statements, and re-plan them when needed (Tom Lane)</p>
          <p>DDL commands, such as replacement of a function that has been inlined into a <code class="command">CALL</code> argument, can create the need to re-plan a <code class="command">CALL</code> that has been cached by PL/pgSQL. That was not happening, leading to misbehavior or strange errors such as <span class="quote">“<span class="quote">cache lookup failed</span>”</span>.</p>
        </li>
        <li class="listitem">
          <p>Track nesting depth correctly when inspecting <code class="type">RECORD</code>-type Vars from outer query levels (Richard Guo)</p>
          <p>This oversight could lead to assertion failures, core dumps, or <span class="quote">“<span class="quote">bogus varno</span>”</span> errors.</p>
        </li>
        <li class="listitem">
          <p>Avoid <span class="quote">“<span class="quote">record type has not been registered</span>”</span> failure when deparsing a view that contains references to fields of composite constants (Tom Lane)</p>
        </li>
        <li class="listitem">
          <p>Allow extracting fields from a <code class="type">RECORD</code>-type <code class="literal">ROW()</code> expression (Tom Lane)</p>
          <p>SQL code that knows that we name such fields <code class="literal">f1</code>, <code class="literal">f2</code>, etc can use those names to extract fields from the expression. This change was originally made in version 13, and is now being back-patched into older branches to support tests for a related bug.</p>
        </li>
        <li class="listitem">
          <p>Fix error-handling bug in <code class="type">RECORD</code> type cache management (Thomas Munro)</p>
          <p>An out-of-memory error occurring at just the wrong point could leave behind inconsistent state that would lead to an infinite loop.</p>
        </li>
        <li class="listitem">
          <p>Fix assertion failure when logical decoding is retried in the same session after an error (Hou Zhijie)</p>
        </li>
        <li class="listitem">
          <p>Avoid doing plan cache revalidation of utility statements that do not receive interesting processing during parse analysis (Tom Lane)</p>
          <p>Aside from saving a few cycles, this prevents failure after a cache invalidation for statements that must not set a snapshot, such as <code class="command">SET TRANSACTION ISOLATION LEVEL</code>.</p>
        </li>
        <li class="listitem">
          <p>Keep by-reference <code class="structfield">attmissingval</code> values in a long-lived context while they are being used (Andrew Dunstan)</p>
          <p>This avoids possible use of dangling pointers when a tuple slot outlives the tuple descriptor with which its value was constructed.</p>
        </li>
        <li class="listitem">
          <p>Recalculate the effective value of <code class="varname">search_path</code> after <code class="command">ALTER ROLE</code> (Jeff Davis)</p>
          <p>This ensures that after renaming a role, the meaning of the special string <code class="literal">$user</code> is re-determined.</p>
        </li>
        <li class="listitem">
          <p>Fix order of operations in <code class="function">GenericXLogFinish</code> (Jeff Davis)</p>
          <p>This code violated the conditions required for crash safety by writing WAL before marking changed buffers dirty. No core code uses this function, but extensions do (<code class="filename">contrib/bloom</code> does, for example).</p>
        </li>
        <li class="listitem">
          <p>Remove incorrect assertion in PL/Python exception handling (Alexander Lakhin)</p>
        </li>
        <li class="listitem">
          <p>Fix <span class="application">pg_restore</span> so that selective restores will include both table-level and column-level ACLs for selected tables (Euler Taveira, Tom Lane)</p>
          <p>Formerly, only the table-level ACL would get restored if both types were present.</p>
        </li>
        <li class="listitem">
          <p>Avoid generating invalid temporary slot names in <span class="application">pg_basebackup</span> (Jelte Fennema)</p>
          <p>This has only been seen to occur when the server connection runs through <span class="application">pgbouncer</span>.</p>
        </li>
        <li class="listitem">
          <p>In <code class="filename">contrib/amcheck</code>, do not report interrupted page deletion as corruption (Noah Misch)</p>
          <p>This fix prevents false-positive reports of <span class="quote">“<span class="quote">the first child of leftmost target page is not leftmost of its level</span>”</span>, <span class="quote">“<span class="quote">block NNNN is not leftmost</span>”</span> or <span class="quote">“<span class="quote">left link/right link pair in index XXXX not in agreement</span>”</span>. They appeared if <span class="application">amcheck</span> ran after an unfinished btree index page deletion and before <code class="command">VACUUM</code> had cleaned things up.</p>
        </li>
        <li class="listitem">
          <p>Fix failure of <code class="filename">contrib/btree_gin</code> indexes on <code class="type">interval</code> columns, when an indexscan using the <code class="literal">&lt;</code> or <code class="literal">&lt;=</code> operator is performed (Dean Rasheed)</p>
          <p>Such an indexscan failed to return all the entries it should.</p>
        </li>
        <li class="listitem">
          <p>Suppress assorted build-time warnings on recent <span class="productname">macOS</span> (Tom Lane)</p>
          <p><span class="productname">Xcode 15</span> (released with <span class="productname">macOS Sonoma</span>) changed the linker's behavior in a way that causes many duplicate-library warnings while building <span class="productname">PostgreSQL</span>. These were harmless, but they're annoying so avoid citing the same libraries twice. Also remove use of the <code class="option">-multiply_defined suppress</code> linker switch, which apparently has been a no-op for a long time, and is now actively complained of.</p>
        </li>
        <li class="listitem">
          <p>Remove <code class="literal">PHOT</code> (Phoenix Islands Time) from the default timezone abbreviations list (Tom Lane)</p>
          <p>Presence of this abbreviation in the default list can cause failures on recent Debian and Ubuntu releases, as they no longer install the underlying tzdb entry by default. Since this is a made-up abbreviation for a zone with a total human population of about two dozen, it seems unlikely that anyone will miss it. If someone does, they can put it back via a custom abbreviations file.</p>
        </li>
      </ul>
    </div>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="release-11-21.html" title="E.2.&nbsp;Release 11.21">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">Appendix&nbsp;E.&nbsp;Release Notes&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 11.22 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;E.2.&nbsp;Release 11.21</td>
    </tr>
  </table>
</div>

      </div>
      <div class="row">
        <div class="col-md-3">
	  
            <a href="/docs/release/11.21/">
              Previous
            </a>
          
        </div>
        <div class="col-md-6 text-center">
          <p>
            <a href="/docs/release/">
              Return to the Release Notes Archive
            </a>
          </p>
        </div>
        <div class="col-md-3 text-right">
	   
        </div>
      </div>
    </div>
    <div class="col-md-2 version-list">
      <section>
        <h2>Versions</h2>
      </section>
      <ul>
        
          <li>
            
              <strong>
                11.22
              </strong>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.21/">
                11.21
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.20/">
                11.20
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.19/">
                11.19
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.18/">
                11.18
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.17/">
                11.17
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.16/">
                11.16
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.15/">
                11.15
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.14/">
                11.14
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.13/">
                11.13
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.12/">
                11.12
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.11/">
                11.11
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.10/">
                11.10
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.9/">
                11.9
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.8/">
                11.8
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.7/">
                11.7
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.6/">
                11.6
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.5/">
                11.5
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.4/">
                11.4
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.3/">
                11.3
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.2/">
                11.2
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.1/">
                11.1
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/11.0/">
                11.0
              </a>
            
          </li>
        
      </ul>
    </div>
</div>


      </div> <!-- pgContentWrap -->
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer id="footer">
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2025 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/main.js?59ea4c82"></script>

  </body>
</html>
