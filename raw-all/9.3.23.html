<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Release Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <link href="/media/css/fontawesome.css?606fd482" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?606fd482">

  <script src="/media/js/theme.js?606fd482"></script>

  

  <base href="/docs/9.3/" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#pgNavbar" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">September 26, 2024: <a href="/about/news/postgresql-17-released-2936/">
  PostgreSQL 17 Released!
</a>

</div>
      </div>
    </div>
    
<div class="container-fluid margin">
  <div class="row">
    <div class="col-lg-2">
      <div id="pgSideWrap">
       
       <div id="pgSideNav">
         <h2>Quick Links</h2>

         <ul>
           
           
           <li><a href="/docs/">Documentation</a>
            
            
           
           </li>
           <li><a href="/docs/">Manuals</a>
            
             <ul>
             
              <li class="last-child"><a href="/docs/manuals/archive/">Archive</a></li>
             
             </ul>
            
            
           
           </li>
           <li><a href="/docs/release/">Release Notes</a>
            
            
           
           </li>
           <li><a href="/docs/books/">Books</a>
            
            
           
           </li>
           <li><a href="/docs/online-resources/">Tutorials &amp; Other Resources</a>
            
            
           
           </li>
           <li><a href="/docs/faq/">FAQ</a>
            
            
           
           </li>
           <li class="last-child"><a href="https://wiki.postgresql.org">Wiki</a>
            
            
           </li>
            
           
        </ul>

       </div>
       
      </div> <!-- pgSideWrap -->
    </div>
    <div class="col-lg-10">
      <div id="pgContentWrap">
        


<div id="release-notes" class="row">
    <div class="col-md-10">
      <section>
        <h1>Release Notes <i class="far fa-file-alt"></i></h1>
        <h2>
          PostgreSQL
          9.3.23
        </h2>
      </section>
      <div id="docContent">
        <div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0"
cellpadding="0" cellspacing="0">
<tr>
<th colspan="5" align="center" valign="bottom"><a href=
"index.html">PostgreSQL 9.3.25 Documentation</a></th>
</tr>
<tr>
<td width="10%" align="left" valign="top"><a title="Release 9.3.24"
href="release-9-3-24.html" accesskey="P">Prev</a></td>
<td width="10%" align="left" valign="top"><a href="release.html"
accesskey="U">Up</a></td>
<td width="60%" align="center" valign="bottom">Appendix E. Release
Notes</td>
<td width="20%" align="right" valign="top"><a title=
"Release 9.3.22" href="release-9-3-22.html" accesskey=
"N">Next</a></td>
</tr>
</table>
<hr class="c1" width="100%" /></div>
<div class="SECT1">
<h1 class="SECT1"><a name="RELEASE-9-3-23" id="RELEASE-9-3-23">E.3.
Release 9.3.23</a></h1>
<div class="FORMALPARA">
<p><b>Release date:</b> 2018-05-10</p>
</div>
<p>This release contains a variety of fixes from 9.3.22. For
information about new features in the 9.3 major release, see
<a href="release-9-3.html">Section E.26</a>.</p>
<div class="SECT2">
<h2 class="SECT2"><a name="AEN115421" id="AEN115421">E.3.1.
Migration to Version 9.3.23</a></h2>
<p>A dump/restore is not required for those running 9.3.X.</p>
<p>However, if the function marking mistakes mentioned in the first
changelog entry below affect you, you will want to take steps to
correct your database catalogs.</p>
<p>Also, if you are upgrading from a version earlier than 9.3.22,
see <a href="release-9-3-22.html">Section E.4</a>.</p>
</div>
<div class="SECT2">
<h2 class="SECT2"><a name="AEN115427" id="AEN115427">E.3.2.
Changes</a></h2>
<ul>
<li>
<p>Fix incorrect volatility markings on a few built-in functions
(Thomas Munro, Tom Lane)</p>
<p>The functions <code class="FUNCTION">query_to_xml</code>,
<code class="FUNCTION">cursor_to_xml</code>, <code class=
"FUNCTION">cursor_to_xmlschema</code>, <code class=
"FUNCTION">query_to_xmlschema</code>, and <code class=
"FUNCTION">query_to_xml_and_xmlschema</code> should be marked
volatile because they execute user-supplied queries that might
contain volatile operations. They were not, leading to a risk of
incorrect query optimization. This has been repaired for new
installations by correcting the initial catalog data, but existing
installations will continue to contain the incorrect markings.
Practical use of these functions seems to pose little hazard, but
in case of trouble, it can be fixed by manually updating these
functions' <tt class="STRUCTNAME">pg_proc</tt> entries, for example
<tt class="LITERAL">ALTER FUNCTION pg_catalog.query_to_xml(text,
boolean, boolean, text) VOLATILE</tt>. (Note that that will need to
be done in each database of the installation.) Another option is to
<span class="APPLICATION">pg_upgrade</span> the database to a
version containing the corrected initial data.</p>
</li>
<li>
<p>Avoid re-using TOAST value OIDs that match
dead-but-not-yet-vacuumed TOAST entries (Pavan Deolasee)</p>
<p>Once the OID counter has wrapped around, it's possible to assign
a TOAST value whose OID matches a previously deleted entry in the
same TOAST table. If that entry were not yet vacuumed away, this
resulted in <span class="QUOTE">"unexpected chunk number 0
(expected 1) for toast value <tt class=
"REPLACEABLE c2">nnnnn</tt>"</span> errors, which would persist
until the dead entry was removed by <tt class=
"COMMAND">VACUUM</tt>. Fix by not selecting such OIDs when creating
a new TOAST entry.</p>
</li>
<li>
<p>Change <tt class="COMMAND">ANALYZE</tt>'s algorithm for updating
<tt class="STRUCTNAME">pg_class</tt>.<tt class=
"STRUCTFIELD">reltuples</tt> (David Gould)</p>
<p>Previously, pages not actually scanned by <tt class=
"COMMAND">ANALYZE</tt> were assumed to retain their old tuple
density. In a large table where <tt class="COMMAND">ANALYZE</tt>
samples only a small fraction of the pages, this meant that the
overall tuple density estimate could not change very much, so that
<tt class="STRUCTFIELD">reltuples</tt> would change nearly
proportionally to changes in the table's physical size (<tt class=
"STRUCTFIELD">relpages</tt>) regardless of what was actually
happening in the table. This has been observed to result in
<tt class="STRUCTFIELD">reltuples</tt> becoming so much larger than
reality as to effectively shut off autovacuuming. To fix, assume
that <tt class="COMMAND">ANALYZE</tt>'s sample is a statistically
unbiased sample of the table (as it should be), and just
extrapolate the density observed within those pages to the whole
table.</p>
</li>
<li>
<p>Fix <tt class="LITERAL">UPDATE/DELETE ... WHERE CURRENT OF</tt>
to not fail when the referenced cursor uses an index-only-scan plan
(Yugo Nagata, Tom Lane)</p>
</li>
<li>
<p>Fix incorrect planning of join clauses pushed into parameterized
paths (Andrew Gierth, Tom Lane)</p>
<p>This error could result in misclassifying a condition as a
<span class="QUOTE">"join filter"</span> for an outer join when it
should be a plain <span class="QUOTE">"filter"</span> condition,
leading to incorrect join output.</p>
</li>
<li>
<p>Fix misoptimization of <tt class="LITERAL">CHECK</tt>
constraints having provably-NULL subclauses of top-level <tt class=
"LITERAL">AND</tt>/<tt class="LITERAL">OR</tt> conditions (Tom
Lane, Dean Rasheed)</p>
<p>This could, for example, allow constraint exclusion to exclude a
child table that should not be excluded from a query.</p>
</li>
<li>
<p>Avoid failure if a query-cancel or session-termination interrupt
occurs while committing a prepared transaction (Stas Kelvich)</p>
</li>
<li>
<p>Fix query-lifespan memory leakage in repeatedly executed hash
joins (Tom Lane)</p>
</li>
<li>
<p>Fix overly strict sanity check in <code class=
"FUNCTION">heap_prepare_freeze_tuple</code> (√Ålvaro Herrera)</p>
<p>This could result in incorrect <span class="QUOTE">"cannot
freeze committed xmax"</span> failures in databases that have been
<span class="APPLICATION">pg_upgrade</span>'d from 9.2 or
earlier.</p>
</li>
<li>
<p>Prevent dangling-pointer dereference when a C-coded
before-update row trigger returns the <span class=
"QUOTE">"old"</span> tuple (Rushabh Lathia)</p>
</li>
<li>
<p>Reduce locking during autovacuum worker scheduling (Jeff
Janes)</p>
<p>The previous behavior caused drastic loss of potential worker
concurrency in databases with many tables.</p>
</li>
<li>
<p>Ensure client hostname is copied while copying <tt class=
"STRUCTNAME">pg_stat_activity</tt> data to local memory (Edmund
Horner)</p>
<p>Previously the supposedly-local snapshot contained a pointer
into shared memory, allowing the client hostname column to change
unexpectedly if any existing session disconnected.</p>
</li>
<li>
<p>Fix incorrect processing of multiple compound affixes in
<tt class="LITERAL">ispell</tt> dictionaries (Arthur Zakirov)</p>
</li>
<li>
<p>Fix collation-aware searches (that is, indexscans using
inequality operators) in SP-GiST indexes on text columns (Tom
Lane)</p>
<p>Such searches would return the wrong set of rows in most non-C
locales.</p>
</li>
<li>
<p>Count the number of index tuples correctly during initial build
of an SP-GiST index (Tomas Vondra)</p>
<p>Previously, the tuple count was reported to be the same as that
of the underlying table, which is wrong if the index is
partial.</p>
</li>
<li>
<p>Count the number of index tuples correctly during vacuuming of a
GiST index (Andrey Borodin)</p>
<p>Previously it reported the estimated number of heap tuples,
which might be inaccurate, and is certainly wrong if the index is
partial.</p>
</li>
<li>
<p>Allow <code class="FUNCTION">scalarltsel</code> and <code class=
"FUNCTION">scalargtsel</code> to be used on non-core datatypes
(Tomas Vondra)</p>
</li>
<li>
<p>Reduce <span class="APPLICATION">libpq</span>'s memory
consumption when a server error is reported after a large amount of
query output has been collected (Tom Lane)</p>
<p>Discard the previous output before, not after, processing the
error message. On some platforms, notably Linux, this can make a
difference in the application's subsequent memory footprint.</p>
</li>
<li>
<p>Fix double-free crashes in <span class="APPLICATION">ecpg</span>
(Patrick Krecker, Jeevan Ladhe)</p>
</li>
<li>
<p>Fix <span class="APPLICATION">ecpg</span> to handle <tt class=
"TYPE">long long int</tt> variables correctly in MSVC builds
(Michael Meskes, Andrew Gierth)</p>
</li>
<li>
<p>Fix mis-quoting of values for list-valued GUC variables in dumps
(Michael Paquier, Tom Lane)</p>
<p>The <tt class="VARNAME">local_preload_libraries</tt>, <tt class=
"VARNAME">session_preload_libraries</tt>, <tt class=
"VARNAME">shared_preload_libraries</tt>, and <tt class=
"VARNAME">temp_tablespaces</tt> variables were not correctly quoted
in <span class="APPLICATION">pg_dump</span> output. This would
cause problems if settings for these variables appeared in
<tt class="COMMAND">CREATE FUNCTION ... SET</tt> or <tt class=
"COMMAND">ALTER DATABASE/ROLE ... SET</tt> clauses.</p>
</li>
<li>
<p>Fix overflow handling in <span class=
"APPLICATION">PL/pgSQL</span> integer <tt class="COMMAND">FOR</tt>
loops (Tom Lane)</p>
<p>The previous coding failed to detect overflow of the loop
variable on some non-gcc compilers, leading to an infinite
loop.</p>
</li>
<li>
<p>Adjust <span class="APPLICATION">PL/Python</span> regression
tests to pass under Python 3.7 (Peter Eisentraut)</p>
</li>
<li>
<p>Support testing <span class="APPLICATION">PL/Python</span> and
related modules when building with Python 3 and MSVC (Andrew
Dunstan)</p>
</li>
<li>
<p>Rename internal <code class="FUNCTION">b64_encode</code> and
<code class="FUNCTION">b64_decode</code> functions to avoid
conflict with Solaris 11.4 built-in functions (Rainer Orth)</p>
</li>
<li>
<p>Sync our copy of the timezone library with IANA tzcode release
2018e (Tom Lane)</p>
<p>This fixes the <span class="APPLICATION">zic</span> timezone
data compiler to cope with negative daylight-savings offsets. While
the <span class="PRODUCTNAME">PostgreSQL</span> project will not
immediately ship such timezone data, <span class=
"APPLICATION">zic</span> might be used with timezone data obtained
directly from IANA, so it seems prudent to update <span class=
"APPLICATION">zic</span> now.</p>
</li>
<li>
<p>Update time zone data files to <span class=
"APPLICATION">tzdata</span> release 2018d for DST law changes in
Palestine and Antarctica (Casey Station), plus historical
corrections for Portugal and its colonies, as well as Enderbury,
Jamaica, Turks &amp; Caicos Islands, and Uruguay.</p>
</li>
</ul>
</div>
</div>
<div class="NAVFOOTER">
<hr class="c1" width="100%" />
<table summary="Footer navigation table" width="100%" border="0"
cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href=
"release-9-3-24.html" accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href=
"release-9-3-22.html" accesskey="N">Next</a></td>
</tr>
<tr>
<td width="33%" align="left" valign="top">Release 9.3.24</td>
<td width="34%" align="center" valign="top"><a href="release.html"
accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">Release 9.3.22</td>
</tr>
</table>
</div>


      </div>
      <div class="row">
        <div class="col-md-3">
	  
            <a href="/docs/release/9.3.22/">
              Previous
            </a>
          
        </div>
        <div class="col-md-6 text-center">
          <p>
            <a href="/docs/release/">
              Return to the Release Notes Archive
            </a>
          </p>
        </div>
        <div class="col-md-3 text-right">
	   
            <a href="/docs/release/9.3.24/">
              Next
            </a>
          
        </div>
      </div>
    </div>
    <div class="col-md-2 version-list">
      <section>
        <h2>Versions</h2>
      </section>
      <ul>
        
          <li>
            
              <a href="/docs/release/9.3.25/">
                9.3.25
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.24/">
                9.3.24
              </a>
            
          </li>
        
          <li>
            
              <strong>
                9.3.23
              </strong>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.22/">
                9.3.22
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.21/">
                9.3.21
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.20/">
                9.3.20
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.19/">
                9.3.19
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.18/">
                9.3.18
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.17/">
                9.3.17
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.16/">
                9.3.16
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.15/">
                9.3.15
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.14/">
                9.3.14
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.13/">
                9.3.13
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.12/">
                9.3.12
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.11/">
                9.3.11
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.10/">
                9.3.10
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.9/">
                9.3.9
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.8/">
                9.3.8
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.7/">
                9.3.7
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.6/">
                9.3.6
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.5/">
                9.3.5
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.4/">
                9.3.4
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.3/">
                9.3.3
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.2/">
                9.3.2
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.1/">
                9.3.1
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.3.0/">
                9.3.0
              </a>
            
          </li>
        
      </ul>
    </div>
</div>


      </div> <!-- pgContentWrap -->
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer id="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <ul>
              <li><a href="https://twitter.com/postgresql"><img src="/media/img/atpostgresql.png" alt="@postgresql"></a></li>
              <li><a href="https://git.postgresql.org/gitweb/?p=postgresql.git"><img src="/media/img/git.png" alt="Git"></a></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2024 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/jquery-3.4.1.slim.min.js"></script>
    <script src="/media/js/popper-1.16.0.min.js"></script>
    <script src="/media/js/bootstrap-4.4.1.min.js"></script>
    <script src="/media/js/main.js?606fd482"></script>

  </body>
</html>
