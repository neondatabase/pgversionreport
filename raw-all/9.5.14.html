<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Release Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <link href="/media/css/fontawesome.css?606fd482" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?606fd482">

  <script src="/media/js/theme.js?606fd482"></script>

  

  <base href="/docs/9.5/" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#pgNavbar" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">September 26, 2024: <a href="/about/news/postgresql-17-released-2936/">
  PostgreSQL 17 Released!
</a>

</div>
      </div>
    </div>
    
<div class="container-fluid margin">
  <div class="row">
    <div class="col-lg-2">
      <div id="pgSideWrap">
       
       <div id="pgSideNav">
         <h2>Quick Links</h2>

         <ul>
           
           
           <li><a href="/docs/">Documentation</a>
            
            
           
           </li>
           <li><a href="/docs/">Manuals</a>
            
             <ul>
             
              <li class="last-child"><a href="/docs/manuals/archive/">Archive</a></li>
             
             </ul>
            
            
           
           </li>
           <li><a href="/docs/release/">Release Notes</a>
            
            
           
           </li>
           <li><a href="/docs/books/">Books</a>
            
            
           
           </li>
           <li><a href="/docs/online-resources/">Tutorials &amp; Other Resources</a>
            
            
           
           </li>
           <li><a href="/docs/faq/">FAQ</a>
            
            
           
           </li>
           <li class="last-child"><a href="https://wiki.postgresql.org">Wiki</a>
            
            
           </li>
            
           
        </ul>

       </div>
       
      </div> <!-- pgSideWrap -->
    </div>
    <div class="col-lg-10">
      <div id="pgContentWrap">
        


<div id="release-notes" class="row">
    <div class="col-md-10">
      <section>
        <h1>Release Notes <i class="far fa-file-alt"></i></h1>
        <h2>
          PostgreSQL
          9.5.14
        </h2>
      </section>
      <div id="docContent">
        <div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<th colspan="4" align="center" valign="bottom"><a href="index.html">PostgreSQL 9.5.25 Documentation</a></th>
</tr>
<tr>
<td width="10%" align="left" valign="top"><a title="Release 9.5.15" href="release-9-5-15.html" accesskey="P">Prev</a></td>
<td width="10%" align="left" valign="top"><a href="release.html" accesskey="U">Up</a></td>
<td width="60%" align="center" valign="bottom">Appendix E. Release Notes</td>
<td width="20%" align="right" valign="top"><a title="Release 9.5.13" href="release-9-5-13.html" accesskey="N">Next</a></td>
</tr>
</table>
<hr class="c1" width="100%" /></div>
<div class="SECT1">
<h1 class="SECT1"><a name="RELEASE-9-5-14" id="RELEASE-9-5-14">E.12. Release 9.5.14</a></h1>
<div class="FORMALPARA">
<p><b>Release date:</b> 2018-08-09</p>
</div>
<p>This release contains a variety of fixes from 9.5.13. For information about new features in the 9.5 major release, see <a href="release-9-5.html">Section E.26</a>.</p>
<div class="SECT2">
<h2 class="SECT2"><a name="AEN129072" id="AEN129072">E.12.1. Migration to Version 9.5.14</a></h2>
<p>A dump/restore is not required for those running 9.5.X.</p>
<p>However, if you are upgrading from a version earlier than 9.5.13, see <a href="release-9-5-13.html">Section E.13</a>.</p>
</div>
<div class="SECT2">
<h2 class="SECT2"><a name="AEN129077" id="AEN129077">E.12.2. Changes</a></h2>
<ul>
<li>
<p>Fix failure to reset <span class="APPLICATION">libpq</span>'s state fully between connection attempts (Tom Lane)</p>
<p>An unprivileged user of <tt class="FILENAME">dblink</tt> or <tt class="FILENAME">postgres_fdw</tt> could bypass the checks intended to prevent use of server-side credentials, such as a <tt class="FILENAME">~/.pgpass</tt> file owned by the operating-system user running the server. Servers allowing peer authentication on local connections are particularly vulnerable. Other attacks such as SQL injection into a <tt class="FILENAME">postgres_fdw</tt> session are also possible. Attacking <tt class="FILENAME">postgres_fdw</tt> in this way requires the ability to create a foreign server object with selected connection parameters, but any user with access to <tt class="FILENAME">dblink</tt> could exploit the problem. In general, an attacker with the ability to select the connection parameters for a <span class="APPLICATION">libpq</span>-using application could cause mischief, though other plausible attack scenarios are harder to think of. Our thanks to Andrew Krasichkov for reporting this issue. (CVE-2018-10915)</p>
</li>
<li>
<p>Fix <tt class="LITERAL">INSERT ... ON CONFLICT UPDATE</tt> through a view that isn't just <tt class="LITERAL">SELECT * FROM ...</tt> (Dean Rasheed, Amit Langote)</p>
<p>Erroneous expansion of an updatable view could lead to crashes or <span class="QUOTE">"attribute ... has the wrong type"</span> errors, if the view's <tt class="LITERAL">SELECT</tt> list doesn't match one-to-one with the underlying table's columns. Furthermore, this bug could be leveraged to allow updates of columns that an attacking user lacks <tt class="LITERAL">UPDATE</tt> privilege for, if that user has <tt class="LITERAL">INSERT</tt> and <tt class="LITERAL">UPDATE</tt> privileges for some other column(s) of the table. Any user could also use it for disclosure of server memory. (CVE-2018-10925)</p>
</li>
<li>
<p>Ensure that updates to the <tt class="STRUCTFIELD">relfrozenxid</tt> and <tt class="STRUCTFIELD">relminmxid</tt> values for <span class="QUOTE">"nailed"</span> system catalogs are processed in a timely fashion (Andres Freund)</p>
<p>Overoptimistic caching rules could prevent these updates from being seen by other sessions, leading to spurious errors and/or data corruption. The problem was significantly worse for shared catalogs, such as <tt class="STRUCTNAME">pg_authid</tt>, because the stale cache data could persist into new sessions as well as existing ones.</p>
</li>
<li>
<p>Fix case where a freshly-promoted standby crashes before having completed its first post-recovery checkpoint (Michael Paquier, Kyotaro Horiguchi, Pavan Deolasee, Álvaro Herrera)</p>
<p>This led to a situation where the server did not think it had reached a consistent database state during subsequent WAL replay, preventing restart.</p>
</li>
<li>
<p>Avoid emitting a bogus WAL record when recycling an all-zero btree page (Amit Kapila)</p>
<p>This mistake has been seen to cause assertion failures, and potentially it could result in unnecessary query cancellations on hot standby servers.</p>
</li>
<li>
<p>During WAL replay, guard against corrupted record lengths exceeding 1GB (Michael Paquier)</p>
<p>Treat such a case as corrupt data. Previously, the code would try to allocate space and get a hard error, making recovery impossible.</p>
</li>
<li>
<p>When ending recovery, delay writing the timeline history file as long as possible (Heikki Linnakangas)</p>
<p>This avoids some situations where a failure during recovery cleanup (such as a problem with a two-phase state file) led to inconsistent timeline state on-disk.</p>
</li>
<li>
<p>Improve performance of WAL replay for transactions that drop many relations (Fujii Masao)</p>
<p>This change reduces the number of times that shared buffers are scanned, so that it is of most benefit when that setting is large.</p>
</li>
<li>
<p>Improve performance of lock releasing in standby server WAL replay (Thomas Munro)</p>
</li>
<li>
<p>Make logical WAL senders report streaming state correctly (Simon Riggs, Sawada Masahiko)</p>
<p>The code previously mis-detected whether or not it had caught up with the upstream server.</p>
</li>
<li>
<p>Fix bugs in snapshot handling during logical decoding, allowing wrong decoding results in rare cases (Arseny Sher, Álvaro Herrera)</p>
</li>
<li>
<p>Ensure a table's cached index list is correctly rebuilt after an index creation fails partway through (Peter Geoghegan)</p>
<p>Previously, the failed index's OID could remain in the list, causing problems later in the same session.</p>
</li>
<li>
<p>Fix mishandling of empty uncompressed posting list pages in GIN indexes (Sivasubramanian Ramasubramanian, Alexander Korotkov)</p>
<p>This could result in an assertion failure after pg_upgrade of a pre-9.4 GIN index (9.4 and later will not create such pages).</p>
</li>
<li>
<p>Ensure that <tt class="COMMAND">VACUUM</tt> will respond to signals within btree page deletion loops (Andres Freund)</p>
<p>Corrupted btree indexes could result in an infinite loop here, and that previously wasn't interruptible without forcing a crash.</p>
</li>
<li>
<p>Fix misoptimization of equivalence classes involving composite-type columns (Tom Lane)</p>
<p>This resulted in failure to recognize that an index on a composite column could provide the sort order needed for a mergejoin on that column.</p>
</li>
<li>
<p>Fix SQL-standard <tt class="LITERAL">FETCH FIRST</tt> syntax to allow parameters (<tt class="LITERAL">$<tt class="REPLACEABLE c2">n</tt></tt>), as the standard expects (Andrew Gierth)</p>
</li>
<li>
<p>Fix failure to schema-qualify some object names in <code class="FUNCTION">getObjectDescription</code> output (Kyotaro Horiguchi, Tom Lane)</p>
<p>Names of collations, conversions, and text search objects were not schema-qualified when they should be.</p>
</li>
<li>
<p>Widen <tt class="COMMAND">COPY FROM</tt>'s current-line-number counter from 32 to 64 bits (David Rowley)</p>
<p>This avoids two problems with input exceeding 4G lines: <tt class="LITERAL">COPY FROM WITH HEADER</tt> would drop a line every 4G lines, not only the first line, and error reports could show a wrong line number.</p>
</li>
<li>
<p>Add a string freeing function to <span class="APPLICATION">ecpg</span>'s <tt class="FILENAME">pgtypes</tt> library, so that cross-module memory management problems can be avoided on Windows (Takayuki Tsunakawa)</p>
<p>On Windows, crashes can ensue if the <code class="FUNCTION">free</code> call for a given chunk of memory is not made from the same DLL that <code class="FUNCTION">malloc</code>'ed the memory. The <tt class="FILENAME">pgtypes</tt> library sometimes returns strings that it expects the caller to free, making it impossible to follow this rule. Add a <code class="FUNCTION">PGTYPESchar_free()</code> function that just wraps <code class="FUNCTION">free</code>, allowing applications to follow this rule.</p>
</li>
<li>
<p>Fix <span class="APPLICATION">ecpg</span>'s support for <tt class="TYPE">long long</tt> variables on Windows, as well as other platforms that declare <code class="FUNCTION">strtoll</code>/<code class="FUNCTION">strtoull</code> nonstandardly or not at all (Dang Minh Huong, Tom Lane)</p>
</li>
<li>
<p>Fix misidentification of SQL statement type in PL/pgSQL, when a rule change causes a change in the semantics of a statement intra-session (Tom Lane)</p>
<p>This error led to assertion failures, or in rare cases, failure to enforce the <tt class="LITERAL">INTO STRICT</tt> option as expected.</p>
</li>
<li>
<p>Fix password prompting in client programs so that echo is properly disabled on Windows when <tt class="LITERAL">stdin</tt> is not the terminal (Matthew Stickney)</p>
</li>
<li>
<p>Further fix mis-quoting of values for list-valued GUC variables in dumps (Tom Lane)</p>
<p>The previous fix for quoting of <tt class="VARNAME">search_path</tt> and other list-valued variables in <span class="APPLICATION">pg_dump</span> output turned out to misbehave for empty-string list elements, and it risked truncation of long file paths.</p>
</li>
<li>
<p>Fix <span class="APPLICATION">pg_dump</span>'s failure to dump <tt class="LITERAL">REPLICA IDENTITY</tt> properties for constraint indexes (Tom Lane)</p>
<p>Manually created unique indexes were properly marked, but not those created by declaring <tt class="LITERAL">UNIQUE</tt> or <tt class="LITERAL">PRIMARY KEY</tt> constraints.</p>
</li>
<li>
<p>Make <span class="APPLICATION">pg_upgrade</span> check that the old server was shut down cleanly (Bruce Momjian)</p>
<p>The previous check could be fooled by an immediate-mode shutdown.</p>
</li>
<li>
<p>Fix <tt class="FILENAME">contrib/hstore_plperl</tt> to look through Perl scalar references, and to not crash if it doesn't find a hash reference where it expects one (Tom Lane)</p>
</li>
<li>
<p>Fix crash in <tt class="FILENAME">contrib/ltree</tt>'s <code class="FUNCTION">lca()</code> function when the input array is empty (Pierre Ducroquet)</p>
</li>
<li>
<p>Fix various error-handling code paths in which an incorrect error code might be reported (Michael Paquier, Tom Lane, Magnus Hagander)</p>
</li>
<li>
<p>Rearrange makefiles to ensure that programs link to freshly-built libraries (such as <tt class="FILENAME">libpq.so</tt>) rather than ones that might exist in the system library directories (Tom Lane)</p>
<p>This avoids problems when building on platforms that supply old copies of <span class="PRODUCTNAME">PostgreSQL</span> libraries.</p>
</li>
<li>
<p>Update time zone data files to <span class="APPLICATION">tzdata</span> release 2018e for DST law changes in North Korea, plus historical corrections for Czechoslovakia.</p>
<p>This update includes a redefinition of <span class="QUOTE">"daylight savings"</span> in Ireland, as well as for some past years in Namibia and Czechoslovakia. In those jurisdictions, legally standard time is observed in summer, and daylight savings time in winter, so that the daylight savings offset is one hour behind standard time not one hour ahead. This does not affect either the actual UTC offset or the timezone abbreviations in use; the only known effect is that the <tt class="STRUCTFIELD">is_dst</tt> column in the <tt class="STRUCTNAME">pg_timezone_names</tt> view will now be true in winter and false in summer in these cases.</p>
</li>
</ul>
</div>
</div>
<div class="NAVFOOTER">
<hr class="c1" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="release-9-5-15.html" accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html" accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="release-9-5-13.html" accesskey="N">Next</a></td>
</tr>
<tr>
<td width="33%" align="left" valign="top">Release 9.5.15</td>
<td width="34%" align="center" valign="top"><a href="release.html" accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">Release 9.5.13</td>
</tr>
</table>
</div>


      </div>
      <div class="row">
        <div class="col-md-3">
	  
            <a href="/docs/release/9.5.13/">
              Previous
            </a>
          
        </div>
        <div class="col-md-6 text-center">
          <p>
            <a href="/docs/release/">
              Return to the Release Notes Archive
            </a>
          </p>
        </div>
        <div class="col-md-3 text-right">
	   
            <a href="/docs/release/9.5.15/">
              Next
            </a>
          
        </div>
      </div>
    </div>
    <div class="col-md-2 version-list">
      <section>
        <h2>Versions</h2>
      </section>
      <ul>
        
          <li>
            
              <a href="/docs/release/9.5.25/">
                9.5.25
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.24/">
                9.5.24
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.23/">
                9.5.23
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.22/">
                9.5.22
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.21/">
                9.5.21
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.20/">
                9.5.20
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.19/">
                9.5.19
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.18/">
                9.5.18
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.17/">
                9.5.17
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.16/">
                9.5.16
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.15/">
                9.5.15
              </a>
            
          </li>
        
          <li>
            
              <strong>
                9.5.14
              </strong>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.13/">
                9.5.13
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.12/">
                9.5.12
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.11/">
                9.5.11
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.10/">
                9.5.10
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.9/">
                9.5.9
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.8/">
                9.5.8
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.7/">
                9.5.7
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.6/">
                9.5.6
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.5/">
                9.5.5
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.4/">
                9.5.4
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.3/">
                9.5.3
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.2/">
                9.5.2
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.1/">
                9.5.1
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/9.5.0/">
                9.5.0
              </a>
            
          </li>
        
      </ul>
    </div>
</div>


      </div> <!-- pgContentWrap -->
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer id="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <ul>
              <li><a href="https://twitter.com/postgresql"><img src="/media/img/atpostgresql.png" alt="@postgresql"></a></li>
              <li><a href="https://git.postgresql.org/gitweb/?p=postgresql.git"><img src="/media/img/git.png" alt="Git"></a></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2024 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/jquery-3.4.1.slim.min.js"></script>
    <script src="/media/js/popper-1.16.0.min.js"></script>
    <script src="/media/js/bootstrap-4.4.1.min.js"></script>
    <script src="/media/js/main.js?606fd482"></script>

  </body>
</html>
