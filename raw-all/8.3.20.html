<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Release Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <link href="/media/css/fontawesome.css?606fd482" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?606fd482">

  <script src="/media/js/theme.js?606fd482"></script>

  

  <base href="/docs/8.3/" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#pgNavbar" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">September 26, 2024: <a href="/about/news/postgresql-17-released-2936/">
  PostgreSQL 17 Released!
</a>

</div>
      </div>
    </div>
    
<div class="container-fluid margin">
  <div class="row">
    <div class="col-lg-2">
      <div id="pgSideWrap">
       
       <div id="pgSideNav">
         <h2>Quick Links</h2>

         <ul>
           
           
           <li><a href="/docs/">Documentation</a>
            
            
           
           </li>
           <li><a href="/docs/">Manuals</a>
            
             <ul>
             
              <li class="last-child"><a href="/docs/manuals/archive/">Archive</a></li>
             
             </ul>
            
            
           
           </li>
           <li><a href="/docs/release/">Release Notes</a>
            
            
           
           </li>
           <li><a href="/docs/books/">Books</a>
            
            
           
           </li>
           <li><a href="/docs/online-resources/">Tutorials &amp; Other Resources</a>
            
            
           
           </li>
           <li><a href="/docs/faq/">FAQ</a>
            
            
           
           </li>
           <li class="last-child"><a href="https://wiki.postgresql.org">Wiki</a>
            
            
           </li>
            
           
        </ul>

       </div>
       
      </div> <!-- pgSideWrap -->
    </div>
    <div class="col-lg-10">
      <div id="pgContentWrap">
        


<div id="release-notes" class="row">
    <div class="col-md-10">
      <section>
        <h1>Release Notes <i class="far fa-file-alt"></i></h1>
        <h2>
          PostgreSQL
          8.3.20
        </h2>
      </section>
      <div id="docContent">
        <div class="NAVHEADER">
  <table summary="Header navigation table" width="100%" border="0"
  cellpadding="0" cellspacing="0">
    <tr>
      <th colspan="5" align="center" valign="bottom">PostgreSQL
      8.3.23 Documentation</th>
    </tr>

    <tr>
      <td width="10%" align="left" valign="top"><a href=
      "release-8-3-21.html" accesskey="P">Prev</a></td>

      <td width="10%" align="left" valign="top"><a href=
      "release.html">Fast Backward</a></td>

      <td width="60%" align="center" valign="bottom">Appendix E.
      Release Notes</td>

      <td width="10%" align="right" valign="top"><a href=
      "release.html">Fast Forward</a></td>

      <td width="10%" align="right" valign="top"><a href=
      "release-8-3-19.html" accesskey="N">Next</a></td>
    </tr>
  </table>
  <hr class="c1" width="100%" />
</div>

<div class="SECT1">
  <h1 class="SECT1"><a name="RELEASE-8-3-20" id=
  "RELEASE-8-3-20">E.4. Release 8.3.20</a></h1>

  <div class="NOTE">
    <blockquote class="NOTE">
      <p><b>Release Date:</b> 2012-08-17</p>
    </blockquote>
  </div>

  <p>This release contains a variety of fixes from 8.3.19. For
  information about new features in the 8.3 major release, see
  <a href="release-8-3.html">Section E.24</a>.</p>

  <p>The <span class="PRODUCTNAME">PostgreSQL</span> community will
  stop releasing updates for the 8.3.X release series in February
  2013. Users are encouraged to update to a newer release branch
  soon.</p>

  <div class="SECT2">
    <h2 class="SECT2"><a name="AEN86033" id="AEN86033">E.4.1.
    Migration to Version 8.3.20</a></h2>

    <p>A dump/restore is not required for those running 8.3.X.</p>

    <p>However, if you are upgrading from a version earlier than
    8.3.17, see the release notes for 8.3.17.</p>
  </div>

  <div class="SECT2">
    <h2 class="SECT2"><a name="AEN86037" id="AEN86037">E.4.2.
    Changes</a></h2>

    <ul>
      <li>
        <p>Prevent access to external files/URLs via XML entity
        references (Noah Misch, Tom Lane)</p>

        <p><code class="FUNCTION">xml_parse()</code> would attempt
        to fetch external files or URLs as needed to resolve DTD
        and entity references in an XML value, thus allowing
        unprivileged database users to attempt to fetch data with
        the privileges of the database server. While the external
        data wouldn't get returned directly to the user, portions
        of it could be exposed in error messages if the data didn't
        parse as valid XML; and in any case the mere ability to
        check existence of a file might be useful to an attacker.
        (CVE-2012-3489)</p>
      </li>

      <li>
        <p>Prevent access to external files/URLs via <tt class=
        "FILENAME">contrib/xml2</tt>'s <code class=
        "FUNCTION">xslt_process()</code> (Peter Eisentraut)</p>

        <p><span class="APPLICATION">libxslt</span> offers the
        ability to read and write both files and URLs through
        stylesheet commands, thus allowing unprivileged database
        users to both read and write data with the privileges of
        the database server. Disable that through proper use of
        <span class="APPLICATION">libxslt</span>'s security
        options. (CVE-2012-3488)</p>

        <p>Also, remove <code class=
        "FUNCTION">xslt_process()</code>'s ability to fetch
        documents and stylesheets from external files/URLs. While
        this was a documented <span class="QUOTE">"feature"</span>,
        it was long regarded as a bad idea. The fix for
        CVE-2012-3489 broke that capability, and rather than expend
        effort on trying to fix it, we're just going to summarily
        remove it.</p>
      </li>

      <li>
        <p>Prevent too-early recycling of btree index pages (Noah
        Misch)</p>

        <p>When we allowed read-only transactions to skip assigning
        XIDs, we introduced the possibility that a deleted btree
        page could be recycled while a read-only transaction was
        still in flight to it. This would result in incorrect index
        search results. The probability of such an error occurring
        in the field seems very low because of the timing
        requirements, but nonetheless it should be fixed.</p>
      </li>

      <li>
        <p>Fix crash-safety bug with newly-created-or-reset
        sequences (Tom Lane)</p>

        <p>If <tt class="COMMAND">ALTER SEQUENCE</tt> was executed
        on a freshly created or reset sequence, and then precisely
        one <code class="FUNCTION">nextval()</code> call was made
        on it, and then the server crashed, WAL replay would
        restore the sequence to a state in which it appeared that
        no <code class="FUNCTION">nextval()</code> had been done,
        thus allowing the first sequence value to be returned again
        by the next <code class="FUNCTION">nextval()</code> call.
        In particular this could manifest for <tt class=
        "TYPE">serial</tt> columns, since creation of a serial
        column's sequence includes an <tt class="COMMAND">ALTER
        SEQUENCE OWNED BY</tt> step.</p>
      </li>

      <li>
        <p>Ensure the <tt class="FILENAME">backup_label</tt> file
        is fsync'd after <code class=
        "FUNCTION">pg_start_backup()</code> (Dave Kerr)</p>
      </li>

      <li>
        <p>Back-patch 9.1 improvement to compress the fsync request
        queue (Robert Haas)</p>

        <p>This improves performance during checkpoints. The 9.1
        change has now seen enough field testing to seem safe to
        back-patch.</p>
      </li>

      <li>
        <p>Only allow autovacuum to be auto-canceled by a directly
        blocked process (Tom Lane)</p>

        <p>The original coding could allow inconsistent behavior in
        some cases; in particular, an autovacuum could get canceled
        after less than <tt class="LITERAL">deadlock_timeout</tt>
        grace period.</p>
      </li>

      <li>
        <p>Improve logging of autovacuum cancels (Robert Haas)</p>
      </li>

      <li>
        <p>Fix log collector so that <tt class=
        "LITERAL">log_truncate_on_rotation</tt> works during the
        very first log rotation after server start (Tom Lane)</p>
      </li>

      <li>
        <p>Ensure that a whole-row reference to a subquery doesn't
        include any extra <tt class="LITERAL">GROUP BY</tt> or
        <tt class="LITERAL">ORDER BY</tt> columns (Tom Lane)</p>
      </li>

      <li>
        <p>Disallow copying whole-row references in <tt class=
        "LITERAL">CHECK</tt> constraints and index definitions
        during <tt class="COMMAND">CREATE TABLE</tt> (Tom Lane)</p>

        <p>This situation can arise in <tt class="COMMAND">CREATE
        TABLE</tt> with <tt class="LITERAL">LIKE</tt> or <tt class=
        "LITERAL">INHERITS</tt>. The copied whole-row variable was
        incorrectly labeled with the row type of the original table
        not the new one. Rejecting the case seems reasonable for
        <tt class="LITERAL">LIKE</tt>, since the row types might
        well diverge later. For <tt class="LITERAL">INHERITS</tt>
        we should ideally allow it, with an implicit coercion to
        the parent table's row type; but that will require more
        work than seems safe to back-patch.</p>
      </li>

      <li>
        <p>Fix memory leak in <tt class="LITERAL">ARRAY(SELECT
        ...)</tt> subqueries (Heikki Linnakangas, Tom Lane)</p>
      </li>

      <li>
        <p>Fix extraction of common prefixes from regular
        expressions (Tom Lane)</p>

        <p>The code could get confused by quantified parenthesized
        subexpressions, such as <tt class=
        "LITERAL">^(foo)?bar</tt>. This would lead to incorrect
        index optimization of searches for such patterns.</p>
      </li>

      <li>
        <p>Report errors properly in <tt class=
        "FILENAME">contrib/xml2</tt>'s <code class=
        "FUNCTION">xslt_process()</code> (Tom Lane)</p>
      </li>

      <li>
        <p>Update time zone data files to <span class=
        "APPLICATION">tzdata</span> release 2012e for DST law
        changes in Morocco and Tokelau</p>
      </li>
    </ul>
  </div>
</div>

<div class="NAVFOOTER">
  <hr class="c1" width="100%" />

  <table summary="Footer navigation table" width="100%" border="0"
  cellpadding="0" cellspacing="0">
    <tr>
      <td width="33%" align="left" valign="top"><a href=
      "release-8-3-21.html" accesskey="P">Prev</a></td>

      <td width="34%" align="center" valign="top"><a href=
      "index.html" accesskey="H">Home</a></td>

      <td width="33%" align="right" valign="top"><a href=
      "release-8-3-19.html" accesskey="N">Next</a></td>
    </tr>

    <tr>
      <td width="33%" align="left" valign="top">Release 8.3.21</td>

      <td width="34%" align="center" valign="top"><a href=
      "release.html" accesskey="U">Up</a></td>

      <td width="33%" align="right" valign="top">Release
      8.3.19</td>
    </tr>
  </table>
</div>

      </div>
      <div class="row">
        <div class="col-md-3">
	  
            <a href="/docs/release/8.3.19/">
              Previous
            </a>
          
        </div>
        <div class="col-md-6 text-center">
          <p>
            <a href="/docs/release/">
              Return to the Release Notes Archive
            </a>
          </p>
        </div>
        <div class="col-md-3 text-right">
	   
            <a href="/docs/release/8.3.21/">
              Next
            </a>
          
        </div>
      </div>
    </div>
    <div class="col-md-2 version-list">
      <section>
        <h2>Versions</h2>
      </section>
      <ul>
        
          <li>
            
              <a href="/docs/release/8.3.23/">
                8.3.23
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.22/">
                8.3.22
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.21/">
                8.3.21
              </a>
            
          </li>
        
          <li>
            
              <strong>
                8.3.20
              </strong>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.19/">
                8.3.19
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.18/">
                8.3.18
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.17/">
                8.3.17
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.16/">
                8.3.16
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.15/">
                8.3.15
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.14/">
                8.3.14
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.13/">
                8.3.13
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.12/">
                8.3.12
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.11/">
                8.3.11
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.10/">
                8.3.10
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.9/">
                8.3.9
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.8/">
                8.3.8
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.7/">
                8.3.7
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.6/">
                8.3.6
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.5/">
                8.3.5
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.4/">
                8.3.4
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.3/">
                8.3.3
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.2/">
                8.3.2
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.1/">
                8.3.1
              </a>
            
          </li>
        
          <li>
            
              <a href="/docs/release/8.3.0/">
                8.3.0
              </a>
            
          </li>
        
      </ul>
    </div>
</div>


      </div> <!-- pgContentWrap -->
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer id="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <ul>
              <li><a href="https://twitter.com/postgresql"><img src="/media/img/atpostgresql.png" alt="@postgresql"></a></li>
              <li><a href="https://git.postgresql.org/gitweb/?p=postgresql.git"><img src="/media/img/git.png" alt="Git"></a></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2024 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/jquery-3.4.1.slim.min.js"></script>
    <script src="/media/js/popper-1.16.0.min.js"></script>
    <script src="/media/js/bootstrap-4.4.1.min.js"></script>
    <script src="/media/js/main.js?606fd482"></script>

  </body>
</html>
